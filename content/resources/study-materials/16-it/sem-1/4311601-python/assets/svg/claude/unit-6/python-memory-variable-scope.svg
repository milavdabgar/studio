<svg viewBox="0 0 1000 950" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <linearGradient id="memoryGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#6A1B9A;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#4A148C;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="scopeGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#D32F2F;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#B71C1C;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="namespaceGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#388E3C;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#1B5E20;stop-opacity:1" />
    </linearGradient>
  </defs>

  <!-- Background -->
  <rect width="1000" height="950" fill="#F8F9FA"/>

  <!-- Title -->
  <text x="500" y="40" font-family="Arial, sans-serif" font-size="32" font-weight="bold" text-anchor="middle" fill="#2C3E50">
    Python Memory Management &amp; Variable Scope
  </text>
  <text x="500" y="70" font-family="Arial, sans-serif" font-size="18" text-anchor="middle" fill="#666">
    Understanding memory allocation, garbage collection, and variable visibility
  </text>

  <!-- Memory Management Overview -->
  <g transform="translate(50, 100)">
    <rect x="0" y="0" width="900" height="120" rx="15" fill="#F3E5F5" stroke="#6A1B9A" stroke-width="3"/>
    <text x="450" y="25" font-family="Arial, sans-serif" font-size="18" font-weight="bold" text-anchor="middle" fill="#6A1B9A">
      Python Memory Management Fundamentals
    </text>

    <g transform="translate(30, 45)">
      <text x="0" y="15" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#6A1B9A">Object References:</text>
      <text x="150" y="15" font-family="Arial, sans-serif" font-size="12" fill="#333">Variables in Python are references to objects in memory</text>

      <text x="0" y="35" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#6A1B9A">Dynamic Typing:</text>
      <text x="150" y="35" font-family="Arial, sans-serif" font-size="12" fill="#333">Variables can reference different object types during runtime</text>

      <text x="0" y="55" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#6A1B9A">Garbage Collection:</text>
      <text x="150" y="55" font-family="Arial, sans-serif" font-size="12" fill="#333">Automatic memory cleanup when objects are no longer referenced</text>

      <text x="0" y="75" font-family="Courier, monospace" font-size="11" fill="#333">
        x = 42  # x references integer object 42 in memory
      </text>
    </g>
  </g>

  <!-- Object Identity and References -->
  <g transform="translate(50, 240)">
    <rect x="0" y="0" width="450" height="280" rx="15" fill="#F3E5F5" stroke="#6A1B9A" stroke-width="3"/>
    <text x="225" y="25" font-family="Arial, sans-serif" font-size="18" font-weight="bold" text-anchor="middle" fill="#6A1B9A">
      Object Identity &amp; References
    </text>

    <!-- Object Identity -->
    <g transform="translate(20, 50)">
      <text x="0" y="15" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#6A1B9A">Object Identity:</text>
      <rect x="0" y="20" width="410" height="100" rx="5" fill="rgba(106,27,154,0.1)" stroke="#6A1B9A" stroke-width="1"/>
      <text x="5" y="35" font-family="Courier, monospace" font-size="10" fill="#333">a = [1, 2, 3]</text>
      <text x="5" y="48" font-family="Courier, monospace" font-size="10" fill="#333">b = [1, 2, 3]</text>
      <text x="5" y="61" font-family="Courier, monospace" font-size="10" fill="#333">c = a</text>
      <text x="5" y="74" font-family="Courier, monospace" font-size="10" fill="#333">print(id(a))      # Unique memory address</text>
      <text x="5" y="87" font-family="Courier, monospace" font-size="10" fill="#333">print(a is b)     # False (different objects)</text>
      <text x="5" y="100" font-family="Courier, monospace" font-size="10" fill="#333">print(a is c)     # True (same object)</text>
      <text x="5" y="113" font-family="Courier, monospace" font-size="10" fill="#333">print(a == b)     # True (same content)</text>
    </g>

    <!-- Reference Counting -->
    <g transform="translate(20, 160)">
      <text x="0" y="15" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#6A1B9A">Reference Counting:</text>
      <rect x="0" y="20" width="410" height="100" rx="5" fill="rgba(106,27,154,0.1)" stroke="#6A1B9A" stroke-width="1"/>
      <text x="5" y="35" font-family="Courier, monospace" font-size="10" fill="#333">import sys</text>
      <text x="5" y="48" font-family="Courier, monospace" font-size="10" fill="#333">x = [1, 2, 3]</text>
      <text x="5" y="61" font-family="Courier, monospace" font-size="10" fill="#333">print(sys.getrefcount(x))  # Shows reference count</text>
      <text x="5" y="74" font-family="Courier, monospace" font-size="10" fill="#333">y = x  # Increases reference count</text>
      <text x="5" y="87" font-family="Courier, monospace" font-size="10" fill="#333">del x  # Decreases reference count</text>
      <text x="5" y="100" font-family="Courier, monospace" font-size="10" fill="#333"># Object deleted when count reaches 0</text>
      <text x="5" y="113" font-family="Courier, monospace" font-size="10" fill="#333">y = None  # Remove last reference</text>
    </g>
  </g>

  <!-- Variable Scope -->
  <g transform="translate(520, 240)">
    <rect x="0" y="0" width="430" height="280" rx="15" fill="#FFEBEE" stroke="#D32F2F" stroke-width="3"/>
    <text x="215" y="25" font-family="Arial, sans-serif" font-size="18" font-weight="bold" text-anchor="middle" fill="#D32F2F">
      Variable Scope &amp; LEGB Rule
    </text>

    <!-- LEGB Rule -->
    <g transform="translate(20, 50)">
      <text x="0" y="15" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#D32F2F">LEGB Resolution Order:</text>
      <rect x="0" y="20" width="390" height="80" rx="5" fill="rgba(211,47,47,0.1)" stroke="#D32F2F" stroke-width="1"/>
      <text x="5" y="35" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#D32F2F">L - Local:</text>
      <text x="70" y="35" font-family="Arial, sans-serif" font-size="11" fill="#333">Inside current function</text>
      <text x="5" y="50" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#D32F2F">E - Enclosing:</text>
      <text x="70" y="50" font-family="Arial, sans-serif" font-size="11" fill="#333">In outer function (nested functions)</text>
      <text x="5" y="65" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#D32F2F">G - Global:</text>
      <text x="70" y="65" font-family="Arial, sans-serif" font-size="11" fill="#333">Module level (file scope)</text>
      <text x="5" y="80" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#D32F2F">B - Built-in:</text>
      <text x="70" y="80" font-family="Arial, sans-serif" font-size="11" fill="#333">Python built-in names (print, len, etc.)</text>
      <text x="5" y="95" font-family="Arial, sans-serif" font-size="11" fill="#666">Python searches in this order: L → E → G → B</text>
    </g>

    <!-- Scope Example -->
    <g transform="translate(20, 140)">
      <text x="0" y="15" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#D32F2F">Scope Example:</text>
      <rect x="0" y="20" width="390" height="120" rx="5" fill="rgba(211,47,47,0.1)" stroke="#D32F2F" stroke-width="1"/>
      <text x="5" y="35" font-family="Courier, monospace" font-size="10" fill="#333">x = "global"  # Global scope</text>
      <text x="5" y="48" font-family="Courier, monospace" font-size="10" fill="#333">def outer():</text>
      <text x="5" y="61" font-family="Courier, monospace" font-size="10" fill="#333">    x = "enclosing"  # Enclosing scope</text>
      <text x="5" y="74" font-family="Courier, monospace" font-size="10" fill="#333">    def inner():</text>
      <text x="5" y="87" font-family="Courier, monospace" font-size="10" fill="#333">        x = "local"  # Local scope</text>
      <text x="5" y="100" font-family="Courier, monospace" font-size="10" fill="#333">        print(x)  # Prints "local"</text>
      <text x="5" y="113" font-family="Courier, monospace" font-size="10" fill="#333">    inner()</text>
      <text x="5" y="126" font-family="Courier, monospace" font-size="10" fill="#333">    print(x)  # Prints "enclosing"</text>
      <text x="5" y="139" font-family="Courier, monospace" font-size="10" fill="#333">outer()</text>
    </g>
  </g>

  <!-- Global and Nonlocal Keywords -->
  <g transform="translate(50, 540)">
    <rect x="0" y="0" width="900" height="180" rx="15" fill="#E8F5E8" stroke="#388E3C" stroke-width="3"/>
    <text x="450" y="25" font-family="Arial, sans-serif" font-size="18" font-weight="bold" text-anchor="middle" fill="#388E3C">
      Global &amp; Nonlocal Keywords
    </text>

    <!-- Global Keyword -->
    <g transform="translate(30, 50)">
      <text x="0" y="15" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#388E3C">Global Keyword:</text>
      <rect x="0" y="20" width="420" height="120" rx="5" fill="rgba(56,142,60,0.1)" stroke="#388E3C" stroke-width="1"/>
      <text x="5" y="35" font-family="Courier, monospace" font-size="10" fill="#333">counter = 0  # Global variable</text>
      <text x="5" y="48" font-family="Courier, monospace" font-size="10" fill="#333">def increment():</text>
      <text x="5" y="61" font-family="Courier, monospace" font-size="10" fill="#333">    global counter  # Declare as global</text>
      <text x="5" y="74" font-family="Courier, monospace" font-size="10" fill="#333">    counter += 1    # Modify global variable</text>
      <text x="5" y="87" font-family="Courier, monospace" font-size="10" fill="#333">increment()</text>
      <text x="5" y="100" font-family="Courier, monospace" font-size="10" fill="#333">print(counter)  # Prints 1</text>
      <text x="5" y="113" font-family="Courier, monospace" font-size="10" fill="#333"># Without global: creates new local variable</text>
      <text x="5" y="126" font-family="Courier, monospace" font-size="10" fill="#333"># With global: modifies existing global variable</text>
    </g>

    <!-- Nonlocal Keyword -->
    <g transform="translate(470, 50)">
      <text x="0" y="15" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#388E3C">Nonlocal Keyword:</text>
      <rect x="0" y="20" width="400" height="120" rx="5" fill="rgba(56,142,60,0.1)" stroke="#388E3C" stroke-width="1"/>
      <text x="5" y="35" font-family="Courier, monospace" font-size="10" fill="#333">def outer():</text>
      <text x="5" y="48" font-family="Courier, monospace" font-size="10" fill="#333">    x = 10  # Enclosing scope</text>
      <text x="5" y="61" font-family="Courier, monospace" font-size="10" fill="#333">    def inner():</text>
      <text x="5" y="74" font-family="Courier, monospace" font-size="10" fill="#333">        nonlocal x  # Refer to enclosing x</text>
      <text x="5" y="87" font-family="Courier, monospace" font-size="10" fill="#333">        x += 5      # Modify enclosing x</text>
      <text x="5" y="100" font-family="Courier, monospace" font-size="10" fill="#333">    inner()</text>
      <text x="5" y="113" font-family="Courier, monospace" font-size="10" fill="#333">    print(x)    # Prints 15</text>
      <text x="5" y="126" font-family="Courier, monospace" font-size="10" fill="#333"># Modifies variable in enclosing scope</text>
    </g>
  </g>

  <!-- Memory Management Advanced -->
  <g transform="translate(50, 740)">
    <rect x="0" y="0" width="900" height="180" rx="15" fill="#FFF3E0" stroke="#FF9800" stroke-width="3"/>
    <text x="450" y="25" font-family="Arial, sans-serif" font-size="18" font-weight="bold" text-anchor="middle" fill="#FF9800">
      Advanced Memory Management &amp; Optimization
    </text>

    <!-- Garbage Collection -->
    <g transform="translate(30, 50)">
      <text x="0" y="15" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#FF9800">Garbage Collection:</text>
      <rect x="0" y="20" width="420" height="120" rx="5" fill="rgba(255,152,0,0.1)" stroke="#FF9800" stroke-width="1"/>
      <text x="5" y="35" font-family="Courier, monospace" font-size="10" fill="#333">import gc</text>
      <text x="5" y="48" font-family="Courier, monospace" font-size="10" fill="#333"># Manual garbage collection</text>
      <text x="5" y="61" font-family="Courier, monospace" font-size="10" fill="#333">gc.collect()  # Force garbage collection</text>
      <text x="5" y="74" font-family="Courier, monospace" font-size="10" fill="#333"># Check garbage collection stats</text>
      <text x="5" y="87" font-family="Courier, monospace" font-size="10" fill="#333">print(gc.get_stats())</text>
      <text x="5" y="100" font-family="Courier, monospace" font-size="10" fill="#333"># Circular reference example</text>
      <text x="5" y="113" font-family="Courier, monospace" font-size="10" fill="#333">class Node:</text>
      <text x="5" y="126" font-family="Courier, monospace" font-size="10" fill="#333">    def __init__(self): self.ref = None</text>
      <text x="5" y="139" font-family="Courier, monospace" font-size="10" fill="#333"># a.ref = b; b.ref = a creates cycle</text>
    </g>

    <!-- Memory Optimization -->
    <g transform="translate(470, 50)">
      <text x="0" y="15" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#FF9800">Memory Optimization Tips:</text>
      <rect x="0" y="20" width="400" height="120" rx="5" fill="rgba(255,152,0,0.1)" stroke="#FF9800" stroke-width="1"/>
      <text x="5" y="35" font-family="Courier, monospace" font-size="10" fill="#333"># Use __slots__ to reduce memory</text>
      <text x="5" y="48" font-family="Courier, monospace" font-size="10" fill="#333">class Point:</text>
      <text x="5" y="61" font-family="Courier, monospace" font-size="10" fill="#333">    __slots__ = ['x', 'y']</text>
      <text x="5" y="74" font-family="Courier, monospace" font-size="10" fill="#333">    def __init__(self, x, y):</text>
      <text x="5" y="87" font-family="Courier, monospace" font-size="10" fill="#333">        self.x, self.y = x, y</text>
      <text x="5" y="100" font-family="Courier, monospace" font-size="10" fill="#333"># Use generators for large datasets</text>
      <text x="5" y="113" font-family="Courier, monospace" font-size="10" fill="#333">data = (x**2 for x in range(1000000))</text>
      <text x="5" y="126" font-family="Courier, monospace" font-size="10" fill="#333"># Delete unnecessary references</text>
      <text x="5" y="139" font-family="Courier, monospace" font-size="10" fill="#333">del large_object  # Free memory immediately</text>
    </g>
  </g>
</svg>