<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 850">
  <defs>
    <style>
      .title-text { font-family: Arial, sans-serif; font-size: 24px; font-weight: bold; fill: #2c3e50; }
      .subtitle-text { font-family: Arial, sans-serif; font-size: 18px; font-weight: bold; fill: #34495e; }
      .label-text { font-family: Arial, sans-serif; font-size: 16px; fill: #34495e; }
      .formula-text { font-family: Arial, sans-serif; font-size: 14px; fill: #7f8c8d; }
      .equation-text { font-family: Arial, sans-serif; font-size: 13px; fill: #2c3e50; }
      .wire { stroke: #2c3e50; stroke-width: 2; fill: none; }
      .inductor { stroke: #f39c12; stroke-width: 3; fill: none; }
      .current-arrow { stroke: #27ae60; stroke-width: 2; fill: #27ae60; }
      .voltage-arrow { stroke: #e74c3c; stroke-width: 2; fill: #e74c3c; }
      .bg-box { fill: #ecf0f1; stroke: #bdc3c7; stroke-width: 1; }
      .magnetic-field { stroke: #8e44ad; stroke-width: 2; fill: none; stroke-dasharray: 5,5; }
      .coupling-line { stroke: #e67e22; stroke-width: 2; stroke-dasharray: 3,3; }
      .ideal-box { fill: #d5f4e6; stroke: #27ae60; stroke-width: 2; }
      .practical-box { fill: #ffeaa7; stroke: #fdcb6e; stroke-width: 2; }
    </style>
    <marker id="current-arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <polygon points="0,0 0,6 9,3" fill="#27ae60"/>
    </marker>
    <marker id="voltage-arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <polygon points="0,0 0,6 9,3" fill="#e74c3c"/>
    </marker>
    <marker id="field-arrow" markerWidth="8" markerHeight="8" refX="7" refY="4" orient="auto" markerUnits="strokeWidth">
      <polygon points="0,0 0,8 8,4" fill="#8e44ad"/>
    </marker>
  </defs>

  <!-- Title -->
  <text x="600" y="30" text-anchor="middle" class="title-text">Coupled Circuits and Mutual Inductance</text>

  <!-- Basic Coupled Circuit -->
  <g transform="translate(100, 60)">
    <rect x="0" y="0" width="450" height="200" class="bg-box" rx="5"/>
    <text x="225" y="20" text-anchor="middle" class="subtitle-text">Mutually Coupled Inductors</text>

    <g transform="translate(50, 40)">
      <!-- Primary circuit -->
      <circle cx="40" cy="60" r="20" fill="none" stroke="#2c3e50" stroke-width="2"/>
      <path d="M 30 60 Q 40 50 50 60 Q 40 70 30 60" stroke="#2c3e50" stroke-width="2" fill="none"/>
      <text x="40" y="85" text-anchor="middle" class="label-text">V₁</text>

      <!-- Primary inductor L1 -->
      <line x1="60" y1="60" x2="80" y2="60" class="wire"/>
      <path d="M 80 60 A 8 8 0 0 1 96 60 A 8 8 0 0 1 112 60 A 8 8 0 0 1 128 60 A 8 8 0 0 1 144 60" class="inductor"/>
      <text x="112" y="45" text-anchor="middle" class="label-text">L₁</text>

      <!-- Primary return path -->
      <line x1="144" y1="60" x2="160" y2="60" class="wire"/>
      <line x1="160" y1="60" x2="160" y2="100" class="wire"/>
      <line x1="160" y1="100" x2="20" y2="100" class="wire"/>
      <line x1="20" y1="100" x2="20" y2="60" class="wire"/>

      <!-- Secondary circuit -->
      <!-- Secondary inductor L2 -->
      <path d="M 220 60 A 8 8 0 0 1 236 60 A 8 8 0 0 1 252 60 A 8 8 0 0 1 268 60 A 8 8 0 0 1 284 60" class="inductor"/>
      <text x="252" y="45" text-anchor="middle" class="label-text">L₂</text>

      <!-- Secondary load -->
      <line x1="284" y1="60" x2="304" y2="60" class="wire"/>
      <line x1="304" y1="60" x2="304" y2="80" class="wire"/>
      <path d="M 304 80 L 289 90 L 319 100 L 289 110 L 319 120 L 289 130 L 304 140" stroke="#e74c3c" stroke-width="3" fill="none"/>
      <text x="329" y="110" text-anchor="middle" class="label-text">ZL</text>

      <!-- Secondary return path -->
      <line x1="304" y1="140" x2="220" y2="140" class="wire"/>
      <line x1="220" y1="140" x2="220" y2="60" class="wire"/>

      <!-- Current arrows -->
      <line x1="70" y1="40" x2="90" y2="40" class="current-arrow" marker-end="url(#current-arrow)"/>
      <text x="80" y="35" text-anchor="middle" class="formula-text">i₁</text>

      <line x1="230" y1="40" x2="250" y2="40" class="current-arrow" marker-end="url(#current-arrow)"/>
      <text x="240" y="35" text-anchor="middle" class="formula-text">i₂</text>

      <!-- Mutual inductance indication -->
      <line x1="112" y1="75" x2="252" y2="75" class="coupling-line"/>
      <text x="182" y="85" text-anchor="middle" class="label-text">M</text>

      <!-- Magnetic field lines -->
      <path d="M 112 25 Q 150 15 190 25 Q 230 35 252 25" class="magnetic-field" marker-end="url(#field-arrow)"/>
      <path d="M 252 25 Q 220 15 190 25 Q 160 35 112 25" class="magnetic-field"/>

      <!-- Polarity dots -->
      <circle cx="112" cy="50" r="3" fill="#e74c3c"/>
      <circle cx="252" cy="50" r="3" fill="#e74c3c"/>
      <text x="112" y="65" text-anchor="middle" class="formula-text">•</text>
      <text x="252" y="65" text-anchor="middle" class="formula-text">•</text>
    </g>
  </g>

  <!-- Mutual Inductance Equations -->
  <g transform="translate(600, 60)">
    <rect x="0" y="0" width="450" height="200" class="bg-box" rx="5"/>
    <text x="225" y="20" text-anchor="middle" class="subtitle-text">Voltage Equations</text>

    <g transform="translate(30, 40)">
      <text x="0" y="0" class="label-text">Primary Circuit:</text>
      <text x="0" y="20" class="equation-text">v₁ = L₁(di₁/dt) + M(di₂/dt)</text>

      <text x="0" y="50" class="label-text">Secondary Circuit:</text>
      <text x="0" y="70" class="equation-text">v₂ = L₂(di₂/dt) + M(di₁/dt)</text>

      <text x="0" y="100" class="label-text">Mutual Inductance:</text>
      <text x="0" y="120" class="equation-text">M = k√(L₁L₂)</text>
      <text x="0" y="135" class="equation-text">where k = coupling coefficient (0 ≤ k ≤ 1)</text>

      <text x="200" y="0" class="label-text">With Load ZL:</text>
      <text x="200" y="20" class="equation-text">v₁ = jωL₁i₁ + jωMi₂</text>
      <text x="200" y="35" class="equation-text">0 = jωMi₁ + (jωL₂ + ZL)i₂</text>

      <text x="200" y="65" class="label-text">Reflected Impedance:</text>
      <text x="200" y="85" class="equation-text">Zreflected = (ωM)²/(jωL₂ + ZL)</text>

      <text x="200" y="115" class="label-text">Primary Input Impedance:</text>
      <text x="200" y="135" class="equation-text">Z₁ = jωL₁ + Zreflected</text>
    </g>
  </g>

  <!-- Coupling Coefficient -->
  <g transform="translate(100, 290)">
    <rect x="0" y="0" width="450" height="220" class="bg-box" rx="5"/>
    <text x="225" y="20" text-anchor="middle" class="subtitle-text">Coupling Coefficient</text>

    <g transform="translate(30, 40)">
      <text x="0" y="0" class="label-text">Coupling Coefficient k:</text>
      <text x="0" y="20" class="equation-text">k = M/√(L₁L₂) = Φ₁₂/Φ₁₁ = Φ₂₁/Φ₂₂</text>

      <text x="0" y="50" class="label-text">Types of Coupling:</text>

      <!-- Loose coupling -->
      <g transform="translate(0, 70)">
        <rect x="0" y="0" width="130" height="60" class="practical-box" rx="3"/>
        <text x="65" y="15" text-anchor="middle" class="label-text">Loose Coupling</text>
        <text x="65" y="30" text-anchor="middle" class="equation-text">k ≈ 0.1 - 0.5</text>
        <text x="65" y="45" text-anchor="middle" class="formula-text">Air core, large gap</text>
      </g>

      <!-- Tight coupling -->
      <g transform="translate(150, 70)">
        <rect x="0" y="0" width="130" height="60" class="practical-box" rx="3"/>
        <text x="65" y="15" text-anchor="middle" class="label-text">Tight Coupling</text>
        <text x="65" y="30" text-anchor="middle" class="equation-text">k ≈ 0.9 - 0.99</text>
        <text x="65" y="45" text-anchor="middle" class="formula-text">Iron core, close</text>
      </g>

      <!-- Perfect coupling -->
      <g transform="translate(300, 70)">
        <rect x="0" y="0" width="130" height="60" class="ideal-box" rx="3"/>
        <text x="65" y="15" text-anchor="middle" class="label-text">Perfect Coupling</text>
        <text x="65" y="30" text-anchor="middle" class="equation-text">k = 1</text>
        <text x="65" y="45" text-anchor="middle" class="formula-text">Ideal transformer</text>
      </g>

      <text x="0" y="155" class="label-text">Energy Stored:</text>
      <text x="0" y="175" class="equation-text">W = ½L₁i₁² + ½L₂i₂² ± Mi₁i₂</text>
      <text x="0" y="190" class="equation-text">± sign depends on coil polarity</text>
    </g>
  </g>

  <!-- Dot Convention -->
  <g transform="translate(600, 290)">
    <rect x="0" y="0" width="450" height="220" class="bg-box" rx="5"/>
    <text x="225" y="20" text-anchor="middle" class="subtitle-text">Dot Convention and Polarity</text>

    <!-- Aiding connection -->
    <g transform="translate(50, 50)">
      <text x="75" y="0" text-anchor="middle" class="label-text">Aiding Connection</text>

      <!-- Coil 1 -->
      <path d="M 20 30 A 6 6 0 0 1 32 30 A 6 6 0 0 1 44 30 A 6 6 0 0 1 56 30" class="inductor"/>
      <circle cx="20" cy="20" r="2" fill="#e74c3c"/>
      <text x="20" y="15" text-anchor="middle" class="formula-text">•</text>
      <line x1="10" y1="30" x2="20" y2="30" class="wire"/>
      <line x1="56" y1="30" x2="66" y2="30" class="wire"/>

      <!-- Coil 2 -->
      <path d="M 90 30 A 6 6 0 0 1 102 30 A 6 6 0 0 1 114 30 A 6 6 0 0 1 126 30" class="inductor"/>
      <circle cx="90" cy="20" r="2" fill="#e74c3c"/>
      <text x="90" y="15" text-anchor="middle" class="formula-text">•</text>
      <line x1="80" y1="30" x2="90" y2="30" class="wire"/>
      <line x1="126" y1="30" x2="136" y2="30" class="wire"/>

      <!-- Connection -->
      <line x1="66" y1="30" x2="80" y2="30" class="wire"/>

      <!-- Current direction -->
      <line x1="15" y1="15" x2="25" y2="15" class="current-arrow" marker-end="url(#current-arrow)"/>
      <text x="20" y="10" text-anchor="middle" class="formula-text">i₁</text>

      <line x1="95" y1="15" x2="105" y2="15" class="current-arrow" marker-end="url(#current-arrow)"/>
      <text x="100" y="10" text-anchor="middle" class="formula-text">i₂</text>

      <text x="75" y="50" text-anchor="middle" class="equation-text">M is positive</text>
      <text x="75" y="65" text-anchor="middle" class="equation-text">v₁ = L₁(di₁/dt) + M(di₂/dt)</text>
    </g>

    <!-- Opposing connection -->
    <g transform="translate(250, 50)">
      <text x="75" y="0" text-anchor="middle" class="label-text">Opposing Connection</text>

      <!-- Coil 1 -->
      <path d="M 20 30 A 6 6 0 0 1 32 30 A 6 6 0 0 1 44 30 A 6 6 0 0 1 56 30" class="inductor"/>
      <circle cx="20" cy="20" r="2" fill="#e74c3c"/>
      <text x="20" y="15" text-anchor="middle" class="formula-text">•</text>
      <line x1="10" y1="30" x2="20" y2="30" class="wire"/>
      <line x1="56" y1="30" x2="66" y2="30" class="wire"/>

      <!-- Coil 2 -->
      <path d="M 90 30 A 6 6 0 0 1 102 30 A 6 6 0 0 1 114 30 A 6 6 0 0 1 126 30" class="inductor"/>
      <circle cx="126" cy="20" r="2" fill="#e74c3c"/>
      <text x="126" y="15" text-anchor="middle" class="formula-text">•</text>
      <line x1="80" y1="30" x2="90" y2="30" class="wire"/>
      <line x1="126" y1="30" x2="136" y2="30" class="wire"/>

      <!-- Connection -->
      <line x1="66" y1="30" x2="80" y2="30" class="wire"/>

      <!-- Current direction -->
      <line x1="15" y1="15" x2="25" y2="15" class="current-arrow" marker-end="url(#current-arrow)"/>
      <text x="20" y="10" text-anchor="middle" class="formula-text">i₁</text>

      <line x1="95" y1="15" x2="105" y2="15" class="current-arrow" marker-end="url(#current-arrow)"/>
      <text x="100" y="10" text-anchor="middle" class="formula-text">i₂</text>

      <text x="75" y="50" text-anchor="middle" class="equation-text">M is negative</text>
      <text x="75" y="65" text-anchor="middle" class="equation-text">v₁ = L₁(di₁/dt) - M(di₂/dt)</text>
    </g>

    <!-- Dot convention rules -->
    <g transform="translate(50, 130)">
      <text x="175" y="0" text-anchor="middle" class="label-text">Dot Convention Rules</text>
      <text x="0" y="20" class="formula-text">1. If currents enter (or leave) dotted terminals, M term is positive</text>
      <text x="0" y="35" class="formula-text">2. If one current enters and other leaves dotted terminal, M term is negative</text>
      <text x="0" y="50" class="formula-text">3. Dots indicate terminals of same instantaneous polarity</text>
      <text x="0" y="65" class="formula-text">4. When current increases in one coil, it induces voltage of marked polarity in other</text>
    </g>
  </g>

  <!-- Transformer Action -->
  <g transform="translate(100, 540)">
    <rect x="0" y="0" width="1000" height="260" class="bg-box" rx="5"/>
    <text x="500" y="20" text-anchor="middle" class="subtitle-text">Transformer Action and Applications</text>

    <!-- Ideal Transformer -->
    <g transform="translate(50, 50)">
      <text x="150" y="0" text-anchor="middle" class="label-text">Ideal Transformer (k = 1)</text>

      <!-- Primary side -->
      <circle cx="40" cy="60" r="20" fill="none" stroke="#2c3e50" stroke-width="2"/>
      <text x="40" y="66" text-anchor="middle" class="label-text">V₁</text>

      <!-- Transformer symbol -->
      <line x1="60" y1="60" x2="80" y2="60" class="wire"/>
      <path d="M 80 40 L 80 80" class="inductor"/>
      <path d="M 90 40 L 90 80" class="inductor"/>
      <path d="M 100 40 L 100 80" class="inductor"/>
      <path d="M 110 40 L 110 80" class="inductor"/>
      <line x1="110" y1="60" x2="130" y2="60" class="wire"/>

      <!-- Secondary load -->
      <line x1="130" y1="60" x2="150" y2="60" class="wire"/>
      <line x1="150" y1="60" x2="150" y2="80" class="wire"/>
      <path d="M 150 80 L 135 90 L 165 100 L 135 110 L 165 120 L 135 130 L 150 140" stroke="#e74c3c" stroke-width="3" fill="none"/>
      <text x="175" y="110" text-anchor="middle" class="label-text">ZL</text>
      <line x1="150" y1="140" x2="40" y2="140" class="wire"/>
      <line x1="40" y1="140" x2="40" y2="80" class="wire"/>

      <!-- Turns indication -->
      <text x="85" y="30" text-anchor="middle" class="label-text">N₁</text>
      <text x="105" y="30" text-anchor="middle" class="label-text">N₂</text>

      <!-- Core -->
      <line x1="95" y1="35" x2="95" y2="85" stroke="#34495e" stroke-width="4"/>

      <!-- Equations -->
      <g transform="translate(200, 40)">
        <text x="0" y="0" class="equation-text">Turns ratio: n = N₂/N₁</text>
        <text x="0" y="20" class="equation-text">Voltage: V₂/V₁ = N₂/N₁ = n</text>
        <text x="0" y="40" class="equation-text">Current: I₂/I₁ = N₁/N₂ = 1/n</text>
        <text x="0" y="60" class="equation-text">Impedance: Z₁ = Z₂/n²</text>
        <text x="0" y="80" class="equation-text">Power: P₁ = P₂ (ideal)</text>
      </g>
    </g>

    <!-- Applications -->
    <g transform="translate(550, 50)">
      <text x="200" y="0" text-anchor="middle" class="label-text">Applications of Coupled Circuits</text>

      <g transform="translate(0, 30)">
        <rect x="0" y="0" width="180" height="60" class="practical-box" rx="3"/>
        <text x="90" y="15" text-anchor="middle" class="label-text">Power Transformers</text>
        <text x="90" y="30" text-anchor="middle" class="formula-text">Voltage level conversion</text>
        <text x="90" y="45" text-anchor="middle" class="formula-text">k ≈ 0.98-0.99</text>
      </g>

      <g transform="translate(200, 30)">
        <rect x="0" y="0" width="180" height="60" class="practical-box" rx="3"/>
        <text x="90" y="15" text-anchor="middle" class="label-text">Audio Transformers</text>
        <text x="90" y="30" text-anchor="middle" class="formula-text">Impedance matching</text>
        <text x="90" y="45" text-anchor="middle" class="formula-text">k ≈ 0.95-0.98</text>
      </g>

      <g transform="translate(0, 110)">
        <rect x="0" y="0" width="180" height="60" class="practical-box" rx="3"/>
        <text x="90" y="15" text-anchor="middle" class="label-text">RF Transformers</text>
        <text x="90" y="30" text-anchor="middle" class="formula-text">Signal coupling</text>
        <text x="90" y="45" text-anchor="middle" class="formula-text">k ≈ 0.1-0.7</text>
      </g>

      <g transform="translate(200, 110)">
        <rect x="0" y="0" width="180" height="60" class="practical-box" rx="3"/>
        <text x="90" y="15" text-anchor="middle" class="label-text">Isolation Transformers</text>
        <text x="90" y="30" text-anchor="middle" class="formula-text">Electrical isolation</text>
        <text x="90" y="45" text-anchor="middle" class="formula-text">Safety applications</text>
      </g>
    </g>

    <!-- Summary -->
    <g transform="translate(50, 200)">
      <text x="450" y="0" text-anchor="middle" class="label-text">Key Points</text>
      <text x="0" y="20" class="formula-text">• Mutual inductance allows energy transfer between circuits without direct electrical connection</text>
      <text x="0" y="35" class="formula-text">• Coupling coefficient k determines the strength of magnetic coupling between coils</text>
      <text x="500" y="20" class="formula-text">• Dot convention provides systematic method for determining polarity of induced voltages</text>
      <text x="500" y="35" class="formula-text">• Transformer action enables voltage/current transformation and impedance matching</text>
    </g>
  </g>
</svg>