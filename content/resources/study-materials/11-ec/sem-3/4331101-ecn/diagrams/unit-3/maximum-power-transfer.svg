<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 800">
  <defs>
    <style>
      .title-text { font-family: Arial, sans-serif; font-size: 24px; font-weight: bold; fill: #2c3e50; }
      .subtitle-text { font-family: Arial, sans-serif; font-size: 18px; font-weight: bold; fill: #34495e; }
      .label-text { font-family: Arial, sans-serif; font-size: 16px; fill: #34495e; }
      .formula-text { font-family: Arial, sans-serif; font-size: 14px; fill: #7f8c8d; }
      .equation-text { font-family: Arial, sans-serif; font-size: 13px; fill: #2c3e50; }
      .wire { stroke: #2c3e50; stroke-width: 2; fill: none; }
      .resistor { stroke: #e74c3c; stroke-width: 3; fill: none; }
      .current-arrow { stroke: #27ae60; stroke-width: 2; fill: #27ae60; }
      .voltage-arrow { stroke: #e74c3c; stroke-width: 2; fill: #e74c3c; }
      .bg-box { fill: #ecf0f1; stroke: #bdc3c7; stroke-width: 1; }
      .theory-box { fill: #fff2e6; stroke: #ff9500; stroke-width: 2; }
      .curve { stroke: #8e44ad; stroke-width: 3; fill: none; }
      .axis { stroke: #2c3e50; stroke-width: 2; fill: none; }
      .grid { stroke: #bdc3c7; stroke-width: 1; fill: none; stroke-dasharray: 2,2; }
      .max-point { fill: #e74c3c; stroke: #c0392b; stroke-width: 2; }
    </style>
    <marker id="current-arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <polygon points="0,0 0,6 9,3" fill="#27ae60"/>
    </marker>
    <marker id="voltage-arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <polygon points="0,0 0,6 9,3" fill="#e74c3c"/>
    </marker>
    <marker id="axis-arrow" markerWidth="8" markerHeight="8" refX="7" refY="4" orient="auto" markerUnits="strokeWidth">
      <polygon points="0,0 0,8 8,4" fill="#2c3e50"/>
    </marker>
  </defs>

  <!-- Title -->
  <text x="600" y="30" text-anchor="middle" class="title-text">Maximum Power Transfer Theorem</text>

  <!-- Theorem Statement -->
  <g transform="translate(100, 60)">
    <rect x="0" y="0" width="1000" height="80" class="theory-box" rx="5"/>
    <text x="500" y="20" text-anchor="middle" class="subtitle-text">Theorem Statement</text>
    <text x="20" y="40" class="formula-text">Maximum power is transferred from a source to a load when the load resistance equals the</text>
    <text x="20" y="55" class="formula-text">internal resistance of the source (RL = Rs). Under this condition, the power transfer efficiency is 50%.</text>
    <text x="20" y="70" class="formula-text">This theorem applies to both DC and AC circuits (with complex impedances).</text>
  </g>

  <!-- Circuit Diagram -->
  <g transform="translate(100, 170)">
    <rect x="0" y="0" width="400" height="200" class="bg-box" rx="5"/>
    <text x="200" y="20" text-anchor="middle" class="subtitle-text">Circuit for Maximum Power Transfer</text>

    <g transform="translate(50, 40)">
      <!-- Voltage source -->
      <circle cx="60" cy="60" r="25" fill="none" stroke="#2c3e50" stroke-width="2"/>
      <text x="60" y="68" text-anchor="middle" class="label-text">Vs</text>

      <!-- Source resistance -->
      <line x1="85" y1="60" x2="110" y2="60" class="wire"/>
      <path d="M 110 60 L 120 45 L 130 75 L 140 45 L 150 75 L 160 45 L 170 60" class="resistor"/>
      <text x="140" y="40" text-anchor="middle" class="label-text">Rs</text>

      <!-- Load resistance -->
      <line x1="170" y1="60" x2="200" y2="60" class="wire"/>
      <line x1="200" y1="60" x2="200" y2="80" class="wire"/>
      <path d="M 200 80 L 185 90 L 215 100 L 185 110 L 215 120 L 185 130 L 200 140" class="resistor"/>
      <text x="225" y="110" text-anchor="middle" class="label-text">RL</text>

      <!-- Connecting wires -->
      <line x1="35" y1="60" x2="60" y2="60" class="wire"/>
      <line x1="35" y1="60" x2="35" y2="140" class="wire"/>
      <line x1="35" y1="140" x2="200" y2="140" class="wire"/>

      <!-- Current through circuit -->
      <line x1="180" y1="40" x2="200" y2="40" class="current-arrow" marker-end="url(#current-arrow)"/>
      <text x="190" y="35" text-anchor="middle" class="formula-text">I</text>

      <!-- Voltage across load -->
      <line x1="210" y1="90" x2="210" y2="130" class="voltage-arrow" marker-end="url(#voltage-arrow)"/>
      <text x="225" y="110" class="formula-text">VL</text>

      <!-- Power indication -->
      <text x="140" y="120" text-anchor="middle" class="formula-text">PL = I²RL = VL²/RL</text>
    </g>
  </g>

  <!-- Mathematical Analysis -->
  <g transform="translate(550, 170)">
    <rect x="0" y="0" width="500" height="200" class="bg-box" rx="5"/>
    <text x="250" y="20" text-anchor="middle" class="subtitle-text">Mathematical Analysis</text>

    <g transform="translate(30, 40)">
      <text x="0" y="0" class="label-text">Circuit Analysis:</text>
      <text x="0" y="20" class="equation-text">Current: I = Vs/(Rs + RL)</text>
      <text x="0" y="35" class="equation-text">Load voltage: VL = I × RL = Vs × RL/(Rs + RL)</text>
      <text x="0" y="50" class="equation-text">Load power: PL = I² × RL = Vs² × RL/(Rs + RL)²</text>

      <text x="0" y="80" class="label-text">For maximum power, differentiate PL with respect to RL:</text>
      <text x="0" y="100" class="equation-text">dPL/dRL = Vs² × [(Rs + RL)² - RL × 2(Rs + RL)] / (Rs + RL)⁴</text>
      <text x="0" y="115" class="equation-text">dPL/dRL = Vs² × [Rs + RL - 2RL] / (Rs + RL)³</text>
      <text x="0" y="130" class="equation-text">dPL/dRL = Vs² × [Rs - RL] / (Rs + RL)³</text>

      <text x="0" y="155" class="label-text">Setting dPL/dRL = 0 for maximum:</text>
      <text x="0" y="175" class="equation-text">Rs - RL = 0  →  RL = Rs (Maximum Power Condition)</text>
    </g>
  </g>

  <!-- Power vs Load Resistance Graph -->
  <g transform="translate(100, 400)">
    <rect x="0" y="0" width="500" height="350" class="bg-box" rx="5"/>
    <text x="250" y="20" text-anchor="middle" class="subtitle-text">Power vs Load Resistance</text>

    <!-- Graph area -->
    <g transform="translate(60, 50)">
      <!-- Grid lines -->
      <line x1="0" y1="0" x2="0" y2="250" class="grid"/>
      <line x1="80" y1="0" x2="80" y2="250" class="grid"/>
      <line x1="160" y1="0" x2="160" y2="250" class="grid"/>
      <line x1="240" y1="0" x2="240" y2="250" class="grid"/>
      <line x1="320" y1="0" x2="320" y2="250" class="grid"/>

      <line x1="0" y1="50" x2="400" y2="50" class="grid"/>
      <line x1="0" y1="100" x2="400" y2="100" class="grid"/>
      <line x1="0" y1="150" x2="400" y2="150" class="grid"/>
      <line x1="0" y1="200" x2="400" y2="200" class="grid"/>

      <!-- Axes -->
      <line x1="0" y1="0" x2="0" y2="270" class="axis" marker-end="url(#axis-arrow)"/>
      <line x1="0" y1="250" x2="420" y2="250" class="axis" marker-end="url(#axis-arrow)"/>

      <!-- Axis labels -->
      <text x="430" y="255" class="label-text">RL (Ω)</text>
      <text x="-15" y="-10" class="label-text">PL</text>

      <!-- Scale markings -->
      <text x="-10" y="255" class="formula-text">0</text>
      <text x="75" y="270" class="formula-text">Rs/2</text>
      <text x="155" y="270" class="formula-text">Rs</text>
      <text x="235" y="270" class="formula-text">2Rs</text>
      <text x="315" y="270" class="formula-text">3Rs</text>

      <text x="-30" y="205" class="formula-text">Vs²/8Rs</text>
      <text x="-25" y="155" class="formula-text">Vs²/6Rs</text>

      <!-- Power curve -->
      <path d="M 20 230 Q 80 180 160 150 Q 240 180 320 200 Q 360 210 400 220" class="curve"/>

      <!-- Maximum power point -->
      <circle cx="160" cy="150" r="6" class="max-point"/>
      <text x="170" y="140" class="formula-text">Pmax = Vs²/4Rs</text>
      <text x="170" y="155" class="formula-text">at RL = Rs</text>

      <!-- Vertical line at maximum -->
      <line x1="160" y1="150" x2="160" y2="250" stroke="#e74c3c" stroke-width="2" stroke-dasharray="5,5"/>

      <!-- Key points -->
      <circle cx="80" cy="180" r="3" fill="#3498db"/>
      <text x="85" y="175" class="formula-text">RL = Rs/2</text>

      <circle cx="240" cy="180" r="3" fill="#3498db"/>
      <text x="245" y="175" class="formula-text">RL = 2Rs</text>
    </g>
  </g>

  <!-- Maximum Power Calculations -->
  <g transform="translate(650, 400)">
    <rect x="0" y="0" width="450" height="350" class="bg-box" rx="5"/>
    <text x="225" y="20" text-anchor="middle" class="subtitle-text">Maximum Power Calculations</text>

    <g transform="translate(30, 40)">
      <text x="0" y="0" class="label-text">When RL = Rs (Maximum Power Condition):</text>

      <text x="0" y="30" class="equation-text">Current: I = Vs/(Rs + Rs) = Vs/2Rs</text>

      <text x="0" y="50" class="equation-text">Maximum Power: Pmax = I² × RL = (Vs/2Rs)² × Rs</text>
      <text x="0" y="65" class="equation-text">Pmax = Vs²/(4Rs²) × Rs = Vs²/4Rs</text>

      <text x="0" y="90" class="equation-text">Load Voltage: VL = I × RL = (Vs/2Rs) × Rs = Vs/2</text>

      <text x="0" y="115" class="label-text">Power Transfer Efficiency:</text>
      <text x="0" y="135" class="equation-text">η = PL/Ps = PL/(PL + Ploss)</text>
      <text x="0" y="150" class="equation-text">Ploss = I² × Rs = (Vs/2Rs)² × Rs = Vs²/4Rs</text>
      <text x="0" y="165" class="equation-text">Ps = PL + Ploss = Vs²/4Rs + Vs²/4Rs = Vs²/2Rs</text>
      <text x="0" y="180" class="equation-text">η = (Vs²/4Rs)/(Vs²/2Rs) = 50%</text>

      <text x="0" y="210" class="label-text">Key Results:</text>
      <text x="0" y="230" class="formula-text">• Maximum power transfer occurs when RL = Rs</text>
      <text x="0" y="245" class="formula-text">• Maximum power = Vs²/4Rs</text>
      <text x="0" y="260" class="formula-text">• Efficiency at maximum power transfer = 50%</text>
      <text x="0" y="275" class="formula-text">• Load voltage at maximum power = Vs/2</text>
      <text x="0" y="290" class="formula-text">• Current at maximum power = Vs/2Rs</text>

      <rect x="0" y="305" width="390" height="30" fill="#ffe6e6" stroke="#ff7979" rx="3"/>
      <text x="195" y="320" text-anchor="middle" class="formula-text">Note: 50% efficiency is poor for power systems!</text>
      <text x="195" y="332" text-anchor="middle" class="formula-text">Used mainly in signal processing and communication circuits</text>
    </g>
  </g>
</svg>