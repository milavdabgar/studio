<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 800">
  <defs>
    <style>
      .title-text { font-family: Arial, sans-serif; font-size: 24px; font-weight: bold; fill: #2c3e50; }
      .subtitle-text { font-family: Arial, sans-serif; font-size: 18px; font-weight: bold; fill: #34495e; }
      .label-text { font-family: Arial, sans-serif; font-size: 16px; fill: #34495e; }
      .formula-text { font-family: Arial, sans-serif; font-size: 14px; fill: #7f8c8d; }
      .equation-text { font-family: Arial, sans-serif; font-size: 13px; fill: #2c3e50; }
      .wire { stroke: #2c3e50; stroke-width: 2; fill: none; }
      .resistor { stroke: #e74c3c; stroke-width: 3; fill: none; }
      .current-arrow { stroke: #27ae60; stroke-width: 2; fill: #27ae60; }
      .voltage-arrow { stroke: #e74c3c; stroke-width: 2; fill: #e74c3c; }
      .bg-box { fill: #ecf0f1; stroke: #bdc3c7; stroke-width: 1; }
      .inactive-source { fill: #95a5a6; stroke: #7f8c8d; stroke-width: 2; }
      .active-source { fill: none; stroke: #2c3e50; stroke-width: 2; }
      .result-box { fill: #d5f4e6; stroke: #27ae60; stroke-width: 2; }
    </style>
    <marker id="current-arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <polygon points="0,0 0,6 9,3" fill="#27ae60"/>
    </marker>
    <marker id="voltage-arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <polygon points="0,0 0,6 9,3" fill="#e74c3c"/>
    </marker>
  </defs>

  <!-- Title -->
  <text x="600" y="30" text-anchor="middle" class="title-text">Superposition Theorem</text>

  <!-- Theorem Statement -->
  <g transform="translate(100, 60)">
    <rect x="0" y="0" width="1000" height="60" fill="#f8f9fa" stroke="#dee2e6" rx="5"/>
    <text x="500" y="20" text-anchor="middle" class="subtitle-text">Theorem Statement</text>
    <text x="20" y="40" class="formula-text">In a linear bilateral network containing multiple independent sources, the current through (or voltage across)</text>
    <text x="20" y="55" class="formula-text">any element is the algebraic sum of currents (or voltages) due to each independent source acting alone.</text>
  </g>

  <!-- Original Circuit -->
  <g transform="translate(100, 150)">
    <rect x="0" y="0" width="350" height="200" class="bg-box" rx="5"/>
    <text x="175" y="20" text-anchor="middle" class="subtitle-text">Original Circuit</text>

    <g transform="translate(50, 40)">
      <!-- Voltage source V1 -->
      <circle cx="40" cy="50" r="20" class="active-source"/>
      <text x="40" y="56" text-anchor="middle" class="label-text">V₁</text>
      <text x="40" y="80" text-anchor="middle" class="formula-text">10V</text>

      <!-- Current source I1 -->
      <circle cx="200" cy="50" r="20" class="active-source"/>
      <text x="200" y="56" text-anchor="middle" class="label-text">I₁</text>
      <text x="200" y="80" text-anchor="middle" class="formula-text">2A</text>
      <line x1="200" y1="35" x2="200" y2="65" class="current-arrow" marker-end="url(#current-arrow)"/>

      <!-- Resistors -->
      <line x1="20" y1="50" x2="40" y2="50" class="wire"/>
      <line x1="60" y1="50" x2="80" y2="50" class="wire"/>
      <path d="M 80 50 L 90 35 L 100 65 L 110 35 L 120 65 L 130 35 L 140 50" class="resistor"/>
      <text x="110" y="25" text-anchor="middle" class="label-text">R₁=5Ω</text>

      <line x1="140" y1="50" x2="180" y2="50" class="wire"/>
      <line x1="220" y1="50" x2="240" y2="50" class="wire"/>

      <!-- R2 and R3 in parallel -->
      <line x1="240" y1="50" x2="240" y2="30" class="wire"/>
      <line x1="240" y1="50" x2="240" y2="70" class="wire"/>

      <!-- R2 (top) -->
      <path d="M 240 30 L 250 15 L 260 45 L 270 15 L 280 45 L 290 15 L 300 30" class="resistor"/>
      <text x="270" y="10" text-anchor="middle" class="label-text">R₂=10Ω</text>

      <!-- R3 (bottom) -->
      <path d="M 240 70 L 250 55 L 260 85 L 270 55 L 280 85 L 290 55 L 300 70" class="resistor"/>
      <text x="270" y="100" text-anchor="middle" class="label-text">R₃=15Ω</text>

      <line x1="300" y1="30" x2="300" y2="50" class="wire"/>
      <line x1="300" y1="50" x2="300" y2="70" class="wire"/>

      <!-- Return path -->
      <line x1="300" y1="50" x2="320" y2="50" class="wire"/>
      <line x1="320" y1="50" x2="320" y2="110" class="wire"/>
      <line x1="320" y1="110" x2="20" y2="110" class="wire"/>
      <line x1="20" y1="110" x2="20" y2="50" class="wire"/>

      <!-- Current to find -->
      <line x1="150" y1="30" x2="170" y2="30" class="current-arrow" marker-end="url(#current-arrow)"/>
      <text x="160" y="25" text-anchor="middle" class="formula-text">I = ?</text>
    </g>
  </g>

  <!-- Step 1: V1 acting alone -->
  <g transform="translate(500, 150)">
    <rect x="0" y="0" width="350" height="200" class="bg-box" rx="5"/>
    <text x="175" y="20" text-anchor="middle" class="subtitle-text">Step 1: V₁ Acting Alone</text>

    <g transform="translate(50, 40)">
      <!-- Voltage source V1 -->
      <circle cx="40" cy="50" r="20" class="active-source"/>
      <text x="40" y="56" text-anchor="middle" class="label-text">V₁</text>
      <text x="40" y="80" text-anchor="middle" class="formula-text">10V</text>

      <!-- Current source replaced by open circuit -->
      <text x="200" y="56" text-anchor="middle" class="formula-text">Open</text>
      <text x="200" y="70" text-anchor="middle" class="formula-text">(I₁ = 0)</text>

      <!-- Same resistor configuration -->
      <line x1="20" y1="50" x2="40" y2="50" class="wire"/>
      <line x1="60" y1="50" x2="80" y2="50" class="wire"/>
      <path d="M 80 50 L 90 35 L 100 65 L 110 35 L 120 65 L 130 35 L 140 50" class="resistor"/>
      <text x="110" y="25" text-anchor="middle" class="label-text">R₁</text>

      <line x1="140" y1="50" x2="240" y2="50" class="wire"/>

      <!-- R2 and R3 in parallel -->
      <line x1="240" y1="50" x2="240" y2="30" class="wire"/>
      <line x1="240" y1="50" x2="240" y2="70" class="wire"/>

      <!-- R2 (top) -->
      <path d="M 240 30 L 250 15 L 260 45 L 270 15 L 280 45 L 290 15 L 300 30" class="resistor"/>
      <text x="270" y="10" text-anchor="middle" class="label-text">R₂</text>

      <!-- R3 (bottom) -->
      <path d="M 240 70 L 250 55 L 260 85 L 270 55 L 280 85 L 290 55 L 300 70" class="resistor"/>
      <text x="270" y="100" text-anchor="middle" class="label-text">R₃</text>

      <line x1="300" y1="30" x2="300" y2="50" class="wire"/>
      <line x1="300" y1="50" x2="300" y2="70" class="wire"/>

      <!-- Return path -->
      <line x1="300" y1="50" x2="320" y2="50" class="wire"/>
      <line x1="320" y1="50" x2="320" y2="110" class="wire"/>
      <line x1="320" y1="110" x2="20" y2="110" class="wire"/>
      <line x1="20" y1="110" x2="20" y2="50" class="wire"/>

      <!-- Current I1' -->
      <line x1="150" y1="30" x2="170" y2="30" class="current-arrow" marker-end="url(#current-arrow)"/>
      <text x="160" y="25" text-anchor="middle" class="formula-text">I₁'</text>
    </g>

    <!-- Calculation -->
    <g transform="translate(20, 160)">
      <text x="0" y="0" class="equation-text">R₂₃ = R₂||R₃ = (10×15)/(10+15) = 6Ω</text>
      <text x="0" y="15" class="equation-text">Rₜₒₜₐₗ = R₁ + R₂₃ = 5 + 6 = 11Ω</text>
      <text x="0" y="30" class="equation-text">I₁' = V₁/Rₜₒₜₐₗ = 10/11 = 0.909A</text>
    </g>
  </g>

  <!-- Step 2: I1 acting alone -->
  <g transform="translate(900, 150)">
    <rect x="0" y="0" width="270" height="200" class="bg-box" rx="5"/>
    <text x="135" y="20" text-anchor="middle" class="subtitle-text">Step 2: I₁ Acting Alone</text>

    <g transform="translate(30, 40)">
      <!-- Voltage source replaced by short circuit -->
      <line x1="30" y1="40" x2="50" y2="40" class="wire"/>
      <line x1="30" y1="60" x2="50" y2="60" class="wire"/>
      <line x1="40" y1="40" x2="40" y2="60" class="wire"/>
      <text x="40" y="80" text-anchor="middle" class="formula-text">Short (V₁ = 0)</text>

      <!-- Current source I1 -->
      <circle cx="150" cy="50" r="20" class="active-source"/>
      <text x="150" y="56" text-anchor="middle" class="label-text">I₁</text>
      <text x="150" y="80" text-anchor="middle" class="formula-text">2A</text>
      <line x1="150" y1="35" x2="150" y2="65" class="current-arrow" marker-end="url(#current-arrow)"/>

      <!-- R1 now in parallel with series combination -->
      <line x1="50" y1="50" x2="70" y2="50" class="wire"/>
      <line x1="70" y1="50" x2="70" y2="30" class="wire"/>
      <line x1="70" y1="50" x2="70" y2="70" class="wire"/>

      <!-- R1 (top path) -->
      <path d="M 70 30 L 80 15 L 90 45 L 100 15 L 110 45 L 120 15 L 130 30" class="resistor"/>
      <text x="100" y="10" text-anchor="middle" class="label-text">R₁</text>

      <!-- R2||R3 (bottom path) -->
      <rect x="85" y="65" width="30" height="10" fill="#e74c3c"/>
      <text x="100" y="90" text-anchor="middle" class="label-text">R₂₃=6Ω</text>

      <line x1="130" y1="30" x2="130" y2="50" class="wire"/>
      <line x1="130" y1="50" x2="130" y2="70" class="wire"/>
      <line x1="130" y1="50" x2="150" y2="50" class="wire"/>

      <!-- Current I2' -->
      <line x1="80" y1="10" x2="100" y2="10" class="current-arrow" marker-end="url(#current-arrow)"/>
      <text x="90" y="5" text-anchor="middle" class="formula-text">I₂'</text>
    </g>

    <!-- Calculation -->
    <g transform="translate(10, 160)">
      <text x="0" y="0" class="equation-text">R₁||(R₂||R₃) = 5||6 = 30/11 = 2.73Ω</text>
      <text x="0" y="15" class="equation-text">Current division:</text>
      <text x="0" y="30" class="equation-text">I₂' = I₁ × 6/(5+6) = 2 × 6/11 = 1.09A</text>
    </g>
  </g>

  <!-- Final Result -->
  <g transform="translate(350, 400)">
    <rect x="0" y="0" width="500" height="120" class="result-box" rx="5"/>
    <text x="250" y="25" text-anchor="middle" class="subtitle-text">Final Result - Superposition</text>

    <g transform="translate(50, 40)">
      <text x="200" y="0" text-anchor="middle" class="label-text">Total Current I = I₁' + I₂'</text>
      <text x="200" y="25" text-anchor="middle" class="equation-text">I = 0.909 + 1.09 = 1.999 ≈ 2.0 A</text>

      <text x="0" y="50" class="formula-text">Note: The direction of currents must be considered for algebraic addition.</text>
      <text x="0" y="65" class="formula-text">If currents are in opposite directions, subtract; if in same direction, add.</text>
    </g>
  </g>

  <!-- Procedure and Notes -->
  <g transform="translate(100, 550)">
    <rect x="0" y="0" width="1000" height="200" class="bg-box" rx="5"/>
    <text x="500" y="25" text-anchor="middle" class="subtitle-text">Procedure and Important Notes</text>

    <!-- Procedure -->
    <g transform="translate(50, 50)">
      <text x="0" y="0" class="label-text">Procedure:</text>
      <text x="0" y="20" class="formula-text">1. Consider only one independent source at a time</text>
      <text x="0" y="35" class="formula-text">2. Replace voltage sources with short circuits (wire)</text>
      <text x="0" y="50" class="formula-text">3. Replace current sources with open circuits (remove)</text>
      <text x="0" y="65" class="formula-text">4. Calculate the desired current/voltage for each case</text>
      <text x="0" y="80" class="formula-text">5. Add all contributions algebraically (considering direction)</text>
    </g>

    <!-- Applications and Limitations -->
    <g transform="translate(500, 50)">
      <text x="0" y="0" class="label-text">Applications & Limitations:</text>
      <text x="0" y="20" class="formula-text">✓ Applicable to linear circuits only</text>
      <text x="0" y="35" class="formula-text">✓ Works with dependent sources (keep them active)</text>
      <text x="0" y="50" class="formula-text">✗ Not applicable to power calculations directly</text>
      <text x="0" y="65" class="formula-text">✗ Cannot be used with non-linear elements</text>
      <text x="0" y="80" class="formula-text">✓ Very useful for AC analysis with multiple sources</text>
    </g>

    <!-- Power Calculation Note -->
    <g transform="translate(50, 140)">
      <rect x="0" y="0" width="900" height="40" fill="#ffe6e6" stroke="#ff7979" rx="3"/>
      <text x="450" y="15" text-anchor="middle" class="label-text">Power Calculation Warning</text>
      <text x="20" y="35" class="formula-text">Power CANNOT be calculated using superposition directly. First find total voltage/current, then calculate power: P = VI or P = I²R</text>
    </g>
  </g>
</svg>