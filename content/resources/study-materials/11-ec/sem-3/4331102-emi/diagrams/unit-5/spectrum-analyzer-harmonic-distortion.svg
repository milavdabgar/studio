<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1400 1200">
  <defs>
    <style>
      .title { font: bold 24px Arial; text-anchor: middle; fill: #2c3e50; }
      .subtitle { font: bold 18px Arial; text-anchor: middle; fill: #34495e; }
      .label { font: 14px Arial; text-anchor: middle; fill: #2c3e50; }
      .formula { font: 12px Arial; text-anchor: middle; fill: #e74c3c; }
      .text { font: 11px Arial; fill: #2c3e50; }
      .circuit { stroke: #2c3e50; stroke-width: 2; fill: none; }
      .component { stroke: #2c3e50; stroke-width: 2; fill: white; }
      .spectrum { stroke: #e74c3c; stroke-width: 3; fill: none; }
      .fundamental { stroke: #27ae60; stroke-width: 4; fill: none; }
      .harmonic { stroke: #f39c12; stroke-width: 2; fill: none; }
      .axis { stroke: #7f8c8d; stroke-width: 1; }
      .grid { stroke: #ecf0f1; stroke-width: 0.5; }
      .display { stroke: #3498db; stroke-width: 2; fill: #e8f4fd; }
    </style>
    <marker id="arrow" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#7f8c8d"/>
    </marker>
  </defs>

  <!-- Title -->
  <text x="700" y="30" class="title">Spectrum Analyzer and Harmonic Distortion Analyzer</text>
  <text x="700" y="55" class="subtitle">Frequency Domain Analysis and Signal Quality Measurement</text>

  <!-- Spectrum Analyzer Section -->
  <g transform="translate(50, 80)">
    <text x="350" y="20" class="subtitle">Spectrum Analyzer</text>

    <!-- Block Diagram -->
    <g transform="translate(20, 40)">
      <text x="300" y="15" class="label">Swept-Tuned Spectrum Analyzer Block Diagram</text>

      <!-- Input -->
      <rect x="20" y="30" width="60" height="40" class="component"/>
      <text x="50" y="55" class="text">Input</text>

      <!-- Attenuator -->
      <rect x="100" y="30" width="60" height="40" class="component"/>
      <text x="130" y="55" class="text">Atten.</text>

      <!-- RF Amplifier -->
      <rect x="180" y="30" width="60" height="40" class="component"/>
      <text x="210" y="50" class="text">RF Amp</text>

      <!-- Mixer -->
      <circle cx="270" cy="50" r="25" class="component"/>
      <text x="270" y="55" class="text">×</text>

      <!-- IF Amplifier -->
      <rect x="310" y="30" width="60" height="40" class="component"/>
      <text x="340" y="50" class="text">IF Amp</text>
      <text x="340" y="62" class="text">(21.4MHz)</text>

      <!-- Detector -->
      <rect x="390" y="30" width="60" height="40" class="component"/>
      <text x="420" y="55" class="text">Detector</text>

      <!-- Video Amp -->
      <rect x="470" y="30" width="60" height="40" class="component"/>
      <text x="500" y="50" class="text">Video</text>
      <text x="500" y="62" class="text">Amp</text>

      <!-- CRT Display -->
      <rect x="550" y="30" width="80" height="40" class="display"/>
      <text x="590" y="55" class="text">CRT Display</text>

      <!-- Connecting lines -->
      <path d="M80,50 L100,50" stroke="#2c3e50" stroke-width="2" marker-end="url(#arrow)"/>
      <path d="M160,50 L180,50" stroke="#2c3e50" stroke-width="2" marker-end="url(#arrow)"/>
      <path d="M240,50 L245,50" stroke="#2c3e50" stroke-width="2" marker-end="url(#arrow)"/>
      <path d="M295,50 L310,50" stroke="#2c3e50" stroke-width="2" marker-end="url(#arrow)"/>
      <path d="M370,50 L390,50" stroke="#2c3e50" stroke-width="2" marker-end="url(#arrow)"/>
      <path d="M450,50 L470,50" stroke="#2c3e50" stroke-width="2" marker-end="url(#arrow)"/>
      <path d="M530,50 L550,50" stroke="#2c3e50" stroke-width="2" marker-end="url(#arrow)"/>

      <!-- Local Oscillator -->
      <rect x="230" y="90" width="80" height="30" class="component"/>
      <text x="270" y="110" class="text">Local Osc</text>
      <path d="M270,90 L270,75" stroke="#2c3e50" stroke-width="2" marker-end="url(#arrow)"/>

      <!-- Sweep Generator -->
      <rect x="320" y="90" width="80" height="30" class="component"/>
      <text x="360" y="110" class="text">Sweep Gen</text>
      <path d="M360,90 L590,90 L590,70" stroke="#3498db" stroke-width="2" marker-end="url(#arrow)"/>
      <path d="M320,105 L310,105" stroke="#3498db" stroke-width="2" marker-end="url(#arrow)"/>
    </g>

    <!-- Display Examples -->
    <g transform="translate(680, 40)">
      <text x="120" y="15" class="label">Spectrum Display Examples</text>

      <!-- Single Frequency -->
      <g transform="translate(0, 25)">
        <text x="20" y="15" class="text">Single Tone:</text>
        <!-- Axes -->
        <line x1="20" y1="60" x2="140" y2="60" class="axis"/>
        <line x1="20" y1="60" x2="20" y2="20" class="axis"/>
        <!-- Signal -->
        <line x1="80" y1="60" x2="80" y2="25" class="fundamental"/>
        <text x="15" y="17" class="text" transform="rotate(-90, 15, 17)">Amp</text>
        <text x="80" y="75" class="text">Freq</text>
      </g>

      <!-- Multiple Harmonics -->
      <g transform="translate(160, 25)">
        <text x="20" y="15" class="text">With Harmonics:</text>
        <!-- Axes -->
        <line x1="20" y1="60" x2="140" y2="60" class="axis"/>
        <line x1="20" y1="60" x2="20" y2="20" class="axis"/>
        <!-- Fundamental and harmonics -->
        <line x1="40" y1="60" x2="40" y2="25" class="fundamental"/>
        <line x1="60" y1="60" x2="60" y2="35" class="harmonic"/>
        <line x1="80" y1="60" x2="80" y2="45" class="harmonic"/>
        <line x1="100" y1="60" x2="100" y2="50" class="harmonic"/>
        <text x="40" y="75" class="text">f₁</text>
        <text x="60" y="75" class="text">2f₁</text>
        <text x="80" y="75" class="text">3f₁</text>
      </g>
    </g>
  </g>

  <!-- FFT Spectrum Analyzer -->
  <g transform="translate(50, 250)">
    <text x="300" y="20" class="subtitle">FFT Spectrum Analyzer</text>

    <!-- Block Diagram -->
    <g transform="translate(20, 40)">
      <text x="250" y="15" class="label">FFT-based Spectrum Analyzer</text>

      <!-- Anti-alias Filter -->
      <rect x="20" y="30" width="80" height="40" class="component"/>
      <text x="60" y="50" class="text">Anti-alias</text>
      <text x="60" y="62" class="text">Filter</text>

      <!-- ADC -->
      <rect x="120" y="30" width="60" height="40" class="component"/>
      <text x="150" y="55" class="text">ADC</text>

      <!-- DSP -->
      <rect x="200" y="30" width="80" height="40" class="component"/>
      <text x="240" y="50" class="text">DSP</text>
      <text x="240" y="62" class="text">(FFT)</text>

      <!-- Display -->
      <rect x="300" y="30" width="80" height="40" class="display"/>
      <text x="340" y="50" class="text">Digital</text>
      <text x="340" y="62" class="text">Display</text>

      <!-- Connecting lines -->
      <path d="M100,50 L120,50" stroke="#2c3e50" stroke-width="2" marker-end="url(#arrow)"/>
      <path d="M180,50 L200,50" stroke="#2c3e50" stroke-width="2" marker-end="url(#arrow)"/>
      <path d="M280,50 L300,50" stroke="#2c3e50" stroke-width="2" marker-end="url(#arrow)"/>
    </g>

    <!-- Advantages -->
    <g transform="translate(420, 40)">
      <text x="150" y="15" class="label">FFT vs Swept Analyzer</text>

      <rect x="0" y="25" width="300" height="100" fill="#e8f6f3" stroke="#27ae60"/>
      <text x="10" y="45" class="formula">FFT Advantages:</text>
      <text x="10" y="60" class="text">• Faster measurement (all frequencies simultaneously)</text>
      <text x="10" y="75" class="text">• Better dynamic range</text>
      <text x="10" y="90" class="text">• Digital processing capabilities</text>
      <text x="10" y="105" class="text">• Storage and analysis features</text>
      <text x="10" y="120" class="text">• No sweep time limitations</text>
    </g>
  </g>

  <!-- Harmonic Distortion Analyzer -->
  <g transform="translate(50, 400)">
    <text x="350" y="20" class="subtitle">Harmonic Distortion Analyzer</text>

    <!-- Block Diagram -->
    <g transform="translate(20, 40)">
      <text x="300" y="15" class="label">Total Harmonic Distortion (THD) Analyzer</text>

      <!-- Input -->
      <rect x="20" y="30" width="60" height="40" class="component"/>
      <text x="50" y="55" class="text">Input</text>

      <!-- Fundamental Notch Filter -->
      <rect x="100" y="30" width="80" height="40" class="component"/>
      <text x="140" y="50" class="text">Notch Filter</text>
      <text x="140" y="62" class="text">(f₁ reject)</text>

      <!-- RMS Detector -->
      <rect x="200" y="30" width="80" height="40" class="component"/>
      <text x="240" y="50" class="text">RMS</text>
      <text x="240" y="62" class="text">Detector</text>

      <!-- Display -->
      <rect x="300" y="30" width="80" height="40" class="display"/>
      <text x="340" y="50" class="text">THD</text>
      <text x="340" y="62" class="text">Display</text>

      <!-- Connecting lines -->
      <path d="M80,50 L100,50" stroke="#2c3e50" stroke-width="2" marker-end="url(#arrow)"/>
      <path d="M180,50 L200,50" stroke="#2c3e50" stroke-width="2" marker-end="url(#arrow)"/>
      <path d="M280,50 L300,50" stroke="#2c3e50" stroke-width="2" marker-end="url(#arrow)"/>

      <!-- Reference Level Measurement -->
      <rect x="100" y="90" width="80" height="40" class="component"/>
      <text x="140" y="110" class="text">Level Meter</text>
      <text x="140" y="122" class="text">(Total RMS)</text>
      <path d="M90,65 L90,110 L100,110" stroke="#2c3e50" stroke-width="2" marker-end="url(#arrow)"/>
    </g>

    <!-- THD Calculation -->
    <g transform="translate(420, 40)">
      <text x="150" y="15" class="label">THD Calculation Methods</text>

      <rect x="0" y="25" width="300" height="140" fill="#fdf2e9" stroke="#e67e22"/>
      <text x="10" y="45" class="formula">Total Harmonic Distortion:</text>
      <text x="10" y="65" class="formula">THD = √(V₂² + V₃² + V₄² + ...) / V₁</text>

      <text x="10" y="85" class="formula">THD(%) = (THD × 100)%</text>

      <text x="10" y="110" class="formula">Alternative Method:</text>
      <text x="10" y="125" class="formula">THD = (V_harmonics / V_total) × 100%</text>

      <text x="10" y="145" class="text">Where:</text>
      <text x="10" y="160" class="text">V₁ = Fundamental amplitude</text>
      <text x="150" y="160" class="text">V₂,V₃... = Harmonic amplitudes</text>
    </g>
  </g>

  <!-- Measurement Examples -->
  <g transform="translate(50, 610)">
    <text x="650" y="20" class="subtitle">Practical Measurements and Applications</text>

    <!-- Pure Sine Wave -->
    <g transform="translate(20, 40)">
      <text x="100" y="15" class="label">Pure Sine Wave</text>

      <!-- Time Domain -->
      <g transform="translate(0, 20)">
        <text x="80" y="15" class="text">Time Domain:</text>
        <line x1="20" y1="80" x2="140" y2="80" class="axis"/>
        <line x1="20" y1="80" x2="20" y2="40" class="axis"/>
        <path d="M20,80 Q40,50 60,80 Q80,50 100,80 Q120,50 140,80" class="spectrum"/>
        <text x="80" y="95" class="text">Time</text>
      </g>

      <!-- Frequency Domain -->
      <g transform="translate(0, 100)">
        <text x="80" y="15" class="text">Frequency Domain:</text>
        <line x1="20" y1="80" x2="140" y2="80" class="axis"/>
        <line x1="20" y1="80" x2="20" y2="40" class="axis"/>
        <line x1="80" y1="80" x2="80" y2="45" class="fundamental"/>
        <text x="80" y="95" class="text">f₁</text>
        <text x="20" y="105" class="formula">THD ≈ 0%</text>
      </g>
    </g>

    <!-- Distorted Signal -->
    <g transform="translate(200, 40)">
      <text x="100" y="15" class="label">Distorted Signal</text>

      <!-- Time Domain -->
      <g transform="translate(0, 20)">
        <text x="80" y="15" class="text">Time Domain:</text>
        <line x1="20" y1="80" x2="140" y2="80" class="axis"/>
        <line x1="20" y1="80" x2="20" y2="40" class="axis"/>
        <path d="M20,80 Q30,50 40,60 Q50,45 60,80 Q70,55 80,65 Q90,50 100,80 Q110,60 120,70 Q130,55 140,80" class="spectrum"/>
        <text x="80" y="95" class="text">Time</text>
      </g>

      <!-- Frequency Domain -->
      <g transform="translate(0, 100)">
        <text x="80" y="15" class="text">Frequency Domain:</text>
        <line x1="20" y1="80" x2="140" y2="80" class="axis"/>
        <line x1="20" y1="80" x2="20" y2="40" class="axis"/>
        <line x1="50" y1="80" x2="50" y2="45" class="fundamental"/>
        <line x1="70" y1="80" x2="70" y2="60" class="harmonic"/>
        <line x1="90" y1="80" x2="90" y2="65" class="harmonic"/>
        <line x1="110" y1="80" x2="110" y2="70" class="harmonic"/>
        <text x="50" y="95" class="text">f₁</text>
        <text x="70" y="95" class="text">2f₁</text>
        <text x="90" y="95" class="text">3f₁</text>
        <text x="20" y="105" class="formula">THD ≈ 5-15%</text>
      </g>
    </g>

    <!-- Square Wave -->
    <g transform="translate(380, 40)">
      <text x="100" y="15" class="label">Square Wave</text>

      <!-- Time Domain -->
      <g transform="translate(0, 20)">
        <text x="80" y="15" class="text">Time Domain:</text>
        <line x1="20" y1="80" x2="140" y2="80" class="axis"/>
        <line x1="20" y1="80" x2="20" y2="40" class="axis"/>
        <path d="M20,80 L20,50 L60,50 L60,80 L100,80 L100,50 L140,50" class="spectrum"/>
        <text x="80" y="95" class="text">Time</text>
      </g>

      <!-- Frequency Domain -->
      <g transform="translate(0, 100)">
        <text x="80" y="15" class="text">Frequency Domain:</text>
        <line x1="20" y1="80" x2="140" y2="80" class="axis"/>
        <line x1="20" y1="80" x2="20" y2="40" class="axis"/>
        <line x1="40" y1="80" x2="40" y2="45" class="fundamental"/>
        <line x1="60" y1="80" x2="60" y2="60" class="harmonic"/>
        <line x1="80" y1="80" x2="80" y2="65" class="harmonic"/>
        <line x1="100" y1="80" x2="100" y2="68" class="harmonic"/>
        <line x1="120" y1="80" x2="120" y2="70" class="harmonic"/>
        <text x="40" y="95" class="text">f₁</text>
        <text x="80" y="95" class="text">3f₁</text>
        <text x="120" y="95" class="text">5f₁</text>
        <text x="20" y="105" class="formula">THD ≈ 48%</text>
      </g>
    </g>

    <!-- Audio Amplifier Test -->
    <g transform="translate(560, 40)">
      <text x="120" y="15" class="label">Audio Amplifier Testing</text>

      <rect x="0" y="25" width="240" height="140" fill="#f4f6ff" stroke="#9b59b6"/>
      <text x="10" y="45" class="formula">Test Setup:</text>
      <text x="10" y="60" class="text">1. Apply 1 kHz sine wave</text>
      <text x="10" y="75" class="text">2. Set output to rated power</text>
      <text x="10" y="90" class="text">3. Measure THD at output</text>

      <text x="10" y="110" class="formula">Typical Results:</text>
      <text x="10" y="125" class="text">• Hi-Fi amplifier: &lt; 0.1% THD</text>
      <text x="10" y="140" class="text">• PA amplifier: 1-3% THD</text>
      <text x="10" y="155" class="text">• Guitar amplifier: 5-10% THD</text>
    </g>

    <!-- Power Quality Analysis -->
    <g transform="translate(820, 40)">
      <text x="120" y="15" class="label">Power Quality Analysis</text>

      <rect x="0" y="25" width="240" height="140" fill="#e8f8f5" stroke="#16a085"/>
      <text x="10" y="45" class="formula">Applications:</text>
      <text x="10" y="60" class="text">• Mains voltage analysis</text>
      <text x="10" y="75" class="text">• Harmonic pollution detection</text>
      <text x="10" y="90" class="text">• Power factor measurement</text>

      <text x="10" y="110" class="formula">Standards:</text>
      <text x="10" y="125" class="text">• IEEE 519: Harmonic limits</text>
      <text x="10" y="140" class="text">• IEC 61000: EMC standards</text>
      <text x="10" y="155" class="text">• EN 50160: Supply quality</text>
    </g>
  </g>

  <!-- Technical Specifications -->
  <g transform="translate(50, 850)">
    <text x="650" y="20" class="subtitle">Technical Specifications and Performance Parameters</text>

    <!-- Spectrum Analyzer Specs -->
    <g transform="translate(20, 40)">
      <text x="150" y="15" class="label">Spectrum Analyzer Specifications</text>

      <rect x="0" y="25" width="300" height="160" fill="#fff5f5" stroke="#e74c3c"/>
      <text x="10" y="45" class="formula">Frequency Range:</text>
      <text x="10" y="60" class="text">DC to 100 GHz (depending on model)</text>

      <text x="10" y="80" class="formula">Resolution Bandwidth:</text>
      <text x="10" y="95" class="text">1 Hz to 10 MHz (selectable)</text>

      <text x="10" y="115" class="formula">Dynamic Range:</text>
      <text x="10" y="130" class="text">70-120 dB (typical)</text>

      <text x="10" y="150" class="formula">Phase Noise:</text>
      <text x="10" y="165" class="text">-110 dBc/Hz at 10 kHz offset</text>

      <text x="150" y="45" class="formula">Amplitude Accuracy:</text>
      <text x="150" y="60" class="text">±0.5 dB (typical)</text>

      <text x="150" y="80" class="formula">Sweep Time:</text>
      <text x="150" y="95" class="text">1 ms to 1000 s</text>

      <text x="150" y="115" class="formula">Display:</text>
      <text x="150" y="130" class="text">Linear/Log scale</text>
      <text x="150" y="145" class="text">Markers &amp; measurements</text>

      <text x="150" y="165" class="formula">Sensitivity:</text>
      <text x="150" y="180" class="text">-150 dBm (1 Hz RBW)</text>
    </g>

    <!-- THD Analyzer Specs -->
    <g transform="translate(340, 40)">
      <text x="150" y="15" class="label">THD Analyzer Specifications</text>

      <rect x="0" y="25" width="300" height="160" fill="#fffef7" stroke="#f39c12"/>
      <text x="10" y="45" class="formula">Frequency Range:</text>
      <text x="10" y="60" class="text">20 Hz to 100 kHz (audio)</text>

      <text x="10" y="80" class="formula">THD Range:</text>
      <text x="10" y="95" class="text">0.001% to 100%</text>

      <text x="10" y="115" class="formula">Accuracy:</text>
      <text x="10" y="130" class="text">±3% of reading (typical)</text>

      <text x="10" y="150" class="formula">Input Impedance:</text>
      <text x="10" y="165" class="text">1 MΩ || 25 pF</text>

      <text x="150" y="45" class="formula">Fundamental Null:</text>
      <text x="150" y="60" class="text">&gt; 80 dB rejection</text>

      <text x="150" y="80" class="formula">Noise Floor:</text>
      <text x="150" y="95" class="text">&lt; 0.003% THD</text>

      <text x="150" y="115" class="formula">Display:</text>
      <text x="150" y="130" class="text">Digital readout</text>
      <text x="150" y="145" class="text">Analog meter</text>

      <text x="150" y="165" class="formula">Output:</text>
      <text x="150" y="180" class="text">Filtered signal available</text>
    </g>

    <!-- Applications Summary -->
    <g transform="translate(660, 40)">
      <text x="170" y="15" class="label">Key Applications &amp; Industries</text>

      <rect x="0" y="25" width="340" height="160" fill="#e8f6f3" stroke="#27ae60"/>
      <text x="10" y="45" class="formula">Communications:</text>
      <text x="10" y="60" class="text">• RF signal analysis • Spurious emissions</text>
      <text x="10" y="75" class="text">• Modulation quality • Interference detection</text>

      <text x="10" y="95" class="formula">Audio &amp; Broadcasting:</text>
      <text x="10" y="110" class="text">• Amplifier testing • Signal quality</text>
      <text x="10" y="125" class="text">• Microphone analysis • Speaker testing</text>

      <text x="10" y="145" class="formula">Power Systems:</text>
      <text x="10" y="160" class="text">• Harmonic analysis • Power quality</text>
      <text x="10" y="175" class="text">• Grid compliance • EMI/EMC testing</text>

      <text x="180" y="45" class="formula">Research &amp; Development:</text>
      <text x="180" y="60" class="text">• Circuit characterization</text>
      <text x="180" y="75" class="text">• Component testing</text>

      <text x="180" y="95" class="formula">Manufacturing:</text>
      <text x="180" y="110" class="text">• Production testing</text>
      <text x="180" y="125" class="text">• Quality control</text>

      <text x="180" y="145" class="formula">Standards Compliance:</text>
      <text x="180" y="160" class="text">• EMC certification</text>
      <text x="180" y="175" class="text">• Safety testing</text>
    </g>
  </g>

</svg>