<svg viewBox="0 0 1000 700" xmlns="http://www.w3.org/2000/svg">>
  <!-- Title -->
  <text x="500" y="30" text-anchor="middle" font-family="Arial, sans-serif" font-size="20" font-weight="bold" fill="#333">Energy Flow in Active vs Passive Components</text>
  
  <!-- Active Components Energy Flow -->>
  <rect x="50" y="60" width="430" height="280" rx="10" fill="#e8f5e8" stroke="#28a745" stroke-width="2"/>
  <text x="265" y="85" text-anchor="middle" font-size="16" font-weight="bold" fill="#155724">Active Components - Energy Control &amp; Amplification</text>
  
  <!-- Transistor Amplifier Example -->>
  <g transform="translate(80, 110)">
    <text x="170" y="0" text-anchor="middle" font-size="14" font-weight="bold" fill="#333">Transistor Amplifier</text>
    
    <!-- Power supply -->>
    <rect x="120" y="20" width="30" height="20" rx="3" fill="#ffd700" stroke="#333" stroke-width="2"/>
    <text x="135" y="32" text-anchor="middle" font-size="10" fill="#333">VCC</text>
    <text x="135" y="15" text-anchor="middle" font-size="8" fill="#d32f2f">>12V</text>
    
    <!-- Load resistor -->>
    <g transform="translate(120, 50)">
      <rect x="10" y="5" width="20" height="6" rx="2" fill="none" stroke="#333" stroke-width="2"/>
      <text x="20" y="20" text-anchor="middle" font-size="8" fill="#333">RC</text>
    </g>>
    
    <!-- Transistor -->
    <g transform="translate(160, 80)">
      <line x1="20" y1="10" x2="20" y2="50" stroke="#333" stroke-width="3"/>
      <line x1="20" y1="20" x2="40" y2="10" stroke="#333" stroke-width="2"/>
      <polygon points="35,12 40,10 37,7" fill="#333"/>
      <line x1="20" y1="40" x2="40" y2="50" stroke="#333" stroke-width="2"/>
      <line x1="0" y1="30" x2="20" y2="30" stroke="#333" stroke-width="2"/>
      <line x1="40" y1="10" x2="60" y2="10" stroke="#333" stroke-width="2"/>
      <line x1="40" y1="50" x2="60" y2="50" stroke="#333" stroke-width="2"/>
    </g>
    
    <!-- Input signal -->>
    <g transform="translate(30, 100)">
      <circle cx="30" cy="10" r="15" fill="none" stroke="#333" stroke-width="2"/>
      <path d="M 20 10 Q 25 5 30 10 Q 35 15 40 10" stroke="#0066cc" stroke-width="2" fill="none"/>
      <text x="30" y="35" text-anchor="middle" font-size="8" fill="#0066cc">10mV</text>
      <text x="30" y="45" text-anchor="middle" font-size="8" fill="#333">>Input</text>
    </g>>
    
    <!-- Output signal -->
    <g transform="translate(270, 80)">
      <circle cx="20" cy="20" r="18" fill="none" stroke="#333" stroke-width="2"/>
      <path d="M 8 20 Q 14 8 20 20 Q 26 32 32 20" stroke="#28a745" stroke-width="3" fill="none"/>
      <text x="20" y="50" text-anchor="middle" font-size="8" fill="#28a745">1V</text>
      <text x="20" y="60" text-anchor="middle" font-size="8" fill="#333">>Output</text>
    </g>>
    
    <!-- Base resistor -->
    <g transform="translate(90, 105)">
      <rect x="0" y="0" width="15" height="6" rx="2" fill="none" stroke="#333" stroke-width="2"/>
      <text x="7.5" y="15" text-anchor="middle" font-size="8" fill="#333">RB</text>
    </g>>
    
    <!-- Connections -->
    <line x1="135" y1="40" x2="135" y2="58" stroke="#333" stroke-width="2"/>
    <line x1="135" y1="61" x2="135" y2="90" stroke="#333" stroke-width="2"/>
    <line x1="220" y1="90" x2="270" y2="90" stroke="#333" stroke-width="2"/>
    <line x1="270" y1="90" x2="270" y2="100" stroke="#333" stroke-width="2"/>
    
    <!-- Ground -->
    <line x1="135" y1="140" x2="135" y2="150" stroke="#333" stroke-width="2"/>
    <line x1="200" y1="130" x2="200" y2="150" stroke="#333" stroke-width="2"/>
    <line x1="290" y1="120" x2="290" y2="150" stroke="#333" stroke-width="2"/>
    <line x1="135" y1="150" x2="290" y2="150" stroke="#333" stroke-width="2"/>
    <line x1="75" y1="120" x2="75" y2="150" stroke="#333" stroke-width="2"/>
    
    <!-- Input connections -->
    <line x1="75" y1="110" x2="90" y2="108" stroke="#333" stroke-width="2"/>
    <line x1="105" y1="108" x2="160" y2="110" stroke="#333" stroke-width="2"/>
    
    <!-- Energy flow arrows -->
    <defs>
      <marker id="energyArrow" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
        <polygon points="0 0, 10 3.5, 0 7" fill="#ff6b35"/>
      </marker>
    </defs>>
    
    <!-- Power supply energy -->
    <path d="M 135 15 Q 140 10 145 15" stroke="#ff6b35" stroke-width="2" marker-end="url(#energyArrow)"/>
    <text x="150" y="10" font-size="8" fill="#ff6b35">Energy In</text>
    <text x="150" y="20" font-size="8" fill="#ff6b35">>12W</text>
    
    <!-- Signal energy -->>
    <path d="M 60 100 Q 70 95 80 100" stroke="#0066cc" stroke-width="2" marker-end="url(#energyArrow)"/>
    <text x="85" y="95" font-size="8" fill="#0066cc">Signal</text>
    <text x="85" y="105" font-size="8" fill="#0066cc">>0.1mW</text>
    
    <!-- Output energy -->>
    <path d="M 280 75 Q 290 70 300 75" stroke="#28a745" stroke-width="3" marker-end="url(#energyArrow)"/>
    <text x="305" y="70" font-size="8" fill="#28a745">Amplified</text>
    <text x="305" y="80" font-size="8" fill="#28a745">>10mW</text>
    
    <!-- Energy gain calculation -->>
    <rect x="20" y="170" width="300" height="40" fill="#f8f9fa" stroke="#dee2e6" stroke-width="1" rx="5"/>
    <text x="170" y="185" text-anchor="middle" font-size="12" font-weight="bold" fill="#28a745">Power Gain = 10mW / 0.1mW = 100 (20dB)</text>
    <text x="170" y="200" text-anchor="middle" font-size="11" fill="#666">>Energy from DC supply is controlled by small input signal</text>
  </g>>
  
  <!-- Passive Components Energy Flow -->
  <rect x="520" y="60" width="430" height="280" rx="10" fill="#fff3e0" stroke="#ff9800" stroke-width="2"/>
  <text x="735" y="85" text-anchor="middle" font-size="16" font-weight="bold" fill="#f57c00">Passive Components - Energy Storage &amp; Dissipation</text>
  
  <!-- Resistor Energy Dissipation -->>
  <g transform="translate(550, 110)">
    <text x="150" y="0" text-anchor="middle" font-size="12" font-weight="bold" fill="#333">Resistor - Energy Dissipation</text>
    
    <!-- Input -->>
    <g transform="translate(20, 30)">
      <circle cx="20" cy="15" r="12" fill="none" stroke="#333" stroke-width="2"/>
      <path d="M 12 15 Q 16 10 20 15 Q 24 20 28 15" stroke="#ff6b35" stroke-width="2" fill="none"/>
      <text x="20" y="35" text-anchor="middle" font-size="8" fill="#333">10V</text>
    </g>>
    
    <!-- Resistor -->
    <g transform="translate(80, 37)">
      <rect x="10" y="5" width="30" height="10" rx="2" fill="none" stroke="#333" stroke-width="2"/>
      <line x1="0" y1="10" x2="10" y2="10" stroke="#333" stroke-width="2"/>
      <line x1="40" y1="10" x2="50" y2="10" stroke="#333" stroke-width="2"/>
      <text x="25" y="25" text-anchor="middle" font-size="8" fill="#333">100Ω</text>
    </g>>
    
    <!-- Heat dissipation -->
    <g transform="translate(100, 20)">
      <path d="M 0 0 Q 2 -3 4 0 Q 6 3 8 0" stroke="#ff0000" stroke-width="1.5" fill="none"/>
      <path d="M 4 -5 Q 6 -8 8 -5 Q 10 -2 12 -5" stroke="#ff0000" stroke-width="1.5" fill="none"/>
      <path d="M 8 -10 Q 10 -13 12 -10 Q 14 -7 16 -10" stroke="#ff0000" stroke-width="1.5" fill="none"/>
      <text x="8" y="-15" text-anchor="middle" font-size="8" fill="#ff0000">Heat</text>
      <text x="8" y="-7" text-anchor="middle" font-size="8" fill="#ff0000">>1W</text>
    </g>>
    
    <!-- Current -->
    <path d="M 50 45 Q 60 40 70 45" stroke="#0066cc" stroke-width="2" marker-end="url(#energyArrow)"/>
    <text x="60" y="35" text-anchor="middle" font-size="8" fill="#0066cc">100mA</text>
    
    <!-- Energy conservation -->>
    <rect x="200" y="25" width="150" height="30" fill="#fff" stroke="#666" stroke-width="1" rx="3"/>
    <text x="275" y="37" text-anchor="middle" font-size="10" font-weight="bold" fill="#333">P = V²/R = I²R</text>
    <text x="275" y="48" text-anchor="middle" font-size="9" fill="#666">>100V²/100Ω = 1W</text>
  </g>>
  
  <!-- Capacitor Energy Storage -->
  <g transform="translate(550, 170)">
    <text x="150" y="0" text-anchor="middle" font-size="12" font-weight="bold" fill="#333">Capacitor - Energy Storage</text>
    
    <!-- Charging phase -->>
    <g>
      <text x="50" y="20" text-anchor="middle" font-size="10" fill="#28a745">Charging</text>
      
      <!-- Voltage source -->>
      <circle cx="30" cy="35" r="10" fill="none" stroke="#333" stroke-width="2"/>
      <text x="30" y="39" text-anchor="middle" font-size="6" fill="#333">5V</text>
      
      <!-- Capacitor -->>
      <g transform="translate(60, 30)">
        <line x1="5" y1="0" x2="5" y2="10" stroke="#333" stroke-width="3"/>
        <line x1="12" y1="0" x2="12" y2="10" stroke="#333" stroke-width="3"/>
        <line x1="0" y1="5" x2="5" y2="5" stroke="#333" stroke-width="2"/>
        <line x1="12" y1="5" x2="17" y2="5" stroke="#333" stroke-width="2"/>
        <text x="8.5" y="20" text-anchor="middle" font-size="8" fill="#333">100F</text>
      </g>>
      
      <!-- Current flow -->
      <path d="M 45 35 Q 50 30 55 35" stroke="#28a745" stroke-width="2" marker-end="url(#energyArrow)"/>
      <text x="50" y="25" text-anchor="middle" font-size="8" fill="#28a745">I</text>
    </g>>
    
    <!-- Discharging phase -->
    <g transform="translate(150, 0)">
      <text x="50" y="20" text-anchor="middle" font-size="10" fill="#dc3545">Discharging</text>
      
      <!-- Capacitor -->>
      <g transform="translate(30, 30)">
        <line x1="5" y1="0" x2="5" y2="10" stroke="#333" stroke-width="3"/>
        <line x1="12" y1="0" x2="12" y2="10" stroke="#333" stroke-width="3"/>
        <line x1="0" y1="5" x2="5" y2="5" stroke="#333" stroke-width="2"/>
        <line x1="12" y1="5" x2="17" y2="5" stroke="#333" stroke-width="2"/>
      </g>
      
      <!-- Load -->>
      <g transform="translate(60, 32)">
        <rect x="0" y="0" width="15" height="6" rx="2" fill="none" stroke="#333" stroke-width="2"/>
        <text x="7.5" y="15" text-anchor="middle" font-size="8" fill="#333">R</text>
      </g>>
      
      <!-- Current flow -->
      <path d="M 50 35 Q 55 30 60 35" stroke="#dc3545" stroke-width="2" marker-end="url(#energyArrow)"/>
      <text x="55" y="25" text-anchor="middle" font-size="8" fill="#dc3545">I</text>
    </g>>
    
    <!-- Energy formula -->
    <rect x="250" y="25" width="120" height="25" fill="#fff" stroke="#666" stroke-width="1" rx="3"/>
    <text x="310" y="37" text-anchor="middle" font-size="10" font-weight="bold" fill="#333">E = ½CV²</text>
    <text x="310" y="47" text-anchor="middle" font-size="8" fill="#666">>Stored energy</text>
  </g>>
  
  <!-- Inductor Energy Storage -->
  <g transform="translate(550, 230)">
    <text x="150" y="0" text-anchor="middle" font-size="12" font-weight="bold" fill="#333">Inductor - Magnetic Energy Storage</text>
    
    <!-- Current building -->>
    <g>
      <text x="50" y="20" text-anchor="middle" font-size="10" fill="#2196f3">Current Building</text>
      
      <!-- Voltage source -->>
      <circle cx="30" cy="35" r="10" fill="none" stroke="#333" stroke-width="2"/>
      <text x="30" y="39" text-anchor="middle" font-size="6" fill="#333">12V</text>
      
      <!-- Inductor -->>
      <g transform="translate(60, 33)">
        <path d="M 0 2 Q 5 -3 10 2 Q 15 7 20 2 Q 25 -3 30 2" 
              fill="none" stroke="#333" stroke-width="2"/>
        <text x="15" y="20" text-anchor="middle" font-size="8" fill="#333">10mH</text>
      </g>>
      
      <!-- Magnetic field -->
      <g transform="translate(75, 20)">
        <ellipse cx="0" cy="15" rx="8" ry="5" fill="none" stroke="#2196f3" stroke-width="1" stroke-dasharray="2,2"/>
        <ellipse cx="0" cy="15" rx="12" ry="7" fill="none" stroke="#2196f3" stroke-width="1" stroke-dasharray="2,2"/>
        <text x="0" y="30" text-anchor="middle" font-size="8" fill="#2196f3">B-field</text>
      </g>>
    </g>
    
    <!-- Current collapsing -->>
    <g transform="translate(150, 0)">
      <text x="50" y="20" text-anchor="middle" font-size="10" fill="#9c27b0">Field Collapsing</text>
      
      <!-- Inductor -->>
      <g transform="translate(30, 33)">
        <path d="M 0 2 Q 5 -3 10 2 Q 15 7 20 2 Q 25 -3 30 2" 
              fill="none" stroke="#333" stroke-width="2"/>
      </g>
      
      <!-- Back EMF -->>
      <g transform="translate(45, 20)">
        <path d="M 0 0 L 5 -3 L 10 2 L 15 -2" stroke="#9c27b0" stroke-width="1.5" fill="none"/>
        <text x="7.5" y="-8" text-anchor="middle" font-size="8" fill="#9c27b0">Back EMF</text>
      </g>>
      
      <!-- Load -->
      <g transform="translate(70, 32)">
        <rect x="0" y="0" width="15" height="6" rx="2" fill="none" stroke="#333" stroke-width="2"/>
        <text x="7.5" y="15" text-anchor="middle" font-size="8" fill="#333">R</text>
      </g>>
    </g>
    
    <!-- Energy formula -->>
    <rect x="250" y="25" width="120" height="25" fill="#fff" stroke="#666" stroke-width="1" rx="3"/>
    <text x="310" y="37" text-anchor="middle" font-size="10" font-weight="bold" fill="#333">E = ½LI²</text>
    <text x="310" y="47" text-anchor="middle" font-size="8" fill="#666">>Magnetic energy</text>
  </g>>
  
  <!-- Energy Flow Summary -->
  <rect x="50" y="370" width="900" height="180" rx="10" fill="#e3f2fd" stroke="#2196f3" stroke-width="2"/>
  <text x="500" y="395" text-anchor="middle" font-size="18" font-weight="bold" fill="#0d47a1">Energy Flow Comparison</text>
  
  <!-- Active vs Passive Table -->>
  <g transform="translate(80, 420)">
    <!-- Headers -->
    <rect x="0" y="0" width="840" height="30" fill="#2196f3" stroke="#1976d2" stroke-width="1"/>
    <text x="210" y="20" text-anchor="middle" font-size="14" font-weight="bold" fill="#fff">Property</text>
    <text x="420" y="20" text-anchor="middle" font-size="14" font-weight="bold" fill="#fff">>Active Components</text>
    <text x="630" y="20" text-anchor="middle" font-size="14" font-weight="bold" fill="#fff">>Passive Components</text>
    
    <!-- Table lines -->>
    <line x1="0" y1="30" x2="840" y2="30" stroke="#ccc" stroke-width="1"/>
    <line x1="420" y1="0" x2="420" y2="120" stroke="#ccc" stroke-width="1"/>
    <line x1="630" y1="0" x2="630" y2="120" stroke="#ccc" stroke-width="1"/>
    
    <!-- Energy Source -->
    <rect x="0" y="30" width="840" height="22" fill="#f8f9fa" stroke="#dee2e6" stroke-width="1"/>
    <text x="210" y="44" text-anchor="middle" font-size="12" fill="#333">Energy Source</text>
    <text x="420" y="44" text-anchor="middle" font-size="11" fill="#28a745">>External DC supply required</text>
    <text x="630" y="44" text-anchor="middle" font-size="11" fill="#ff9800">>Uses signal energy only</text>
    
    <!-- Energy Control -->>
    <rect x="0" y="52" width="840" height="22" fill="#fff" stroke="#dee2e6" stroke-width="1"/>
    <text x="210" y="66" text-anchor="middle" font-size="12" fill="#333">Energy Control</text>
    <text x="420" y="66" text-anchor="middle" font-size="11" fill="#28a745">>Controls large energy with small signal</text>
    <text x="630" y="66" text-anchor="middle" font-size="11" fill="#ff9800">>Cannot add energy to system</text>
    
    <!-- Power Gain -->>
    <rect x="0" y="74" width="840" height="22" fill="#f8f9fa" stroke="#dee2e6" stroke-width="1"/>
    <text x="210" y="88" text-anchor="middle" font-size="12" fill="#333">Power Gain</text>
    <text x="420" y="88" text-anchor="middle" font-size="11" fill="#28a745">>Can provide power gain > 1</text>
    <text x="630" y="88" text-anchor="middle" font-size="11" fill="#ff9800">>Power gain ≤ 1 always</text>
    
    <!-- Examples -->>
    <rect x="0" y="96" width="840" height="24" fill="#fff" stroke="#dee2e6" stroke-width="1"/>
    <text x="210" y="110" text-anchor="middle" font-size="12" fill="#333">Examples</text>
    <text x="420" y="105" text-anchor="middle" font-size="11" fill="#28a745">>Transistors, Op-amps,</text>
    <text x="420" y="115" text-anchor="middle" font-size="11" fill="#28a745">>Vacuum tubes, Diodes</text>
    <text x="630" y="105" text-anchor="middle" font-size="11" fill="#ff9800">>Resistors, Capacitors,</text>
    <text x="630" y="115" text-anchor="middle" font-size="11" fill="#ff9800">>Inductors, Transformers</text>
  </g>>
  
  <!-- Key Principle -->
  <g transform="translate(50, 580)">
    <rect x="0" y="0" width="900" height="60" fill="#fff3e0" stroke="#ff9800" stroke-width="2" rx="5"/>
    <text x="450" y="20" text-anchor="middle" font-size="16" font-weight="bold" fill="#f57c00">Fundamental Principle</text>
    
    <text x="50" y="40" font-size="13" fill="#333">>Active: Energy from DC supply is controlled by input signal → Power amplification possible</text>
    <text x="50" y="55" font-size="13" fill="#333">>Passive: Only store, release, or dissipate energy from signal → No power gain, only loss or temporary storage</text>
  </g>>
</svg>