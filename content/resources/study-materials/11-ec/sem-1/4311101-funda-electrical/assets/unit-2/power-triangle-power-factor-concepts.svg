<svg viewBox="0 0 1200 800" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <linearGradient id="activePowerGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#10B981;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#059669;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="reactivePowerGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#3B82F6;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#1E40AF;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="apparentPowerGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#DC2626;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#991B1B;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="triangleGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#F3E8FF;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#E9D5FF;stop-opacity:1" />
    </linearGradient>
    <filter id="glow">
      <feGaussianBlur stdDeviation="2" result="coloredBlur"/>
      <feMerge> 
        <feMergeNode in="coloredBlur"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
    <marker id="powerArrow" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#7C3AED"/>
    </marker>
  </defs>

  <!-- Background -->
  <rect width="1200" height="800" fill="#F8FAFC"/>
  
  <!-- Title -->
  <text x="600" y="40" text-anchor="middle" font-family="Arial, sans-serif" font-size="28" font-weight="bold" fill="#1E293B">Power Triangle &amp; Power Factor Concepts</text>
  
  <!-- AC Power Fundamentals -->
  <g transform="translate(50,80)">
    <rect x="0" y="0" width="400" height="200" fill="#F0FDF4" stroke="#BBF7D0" stroke-width="2" rx="10"/>
    <text x="200" y="25" text-anchor="middle" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="#1E293B">AC Power Fundamentals</text>
    
    <!-- Voltage and Current waveforms -->
    <g transform="translate(50,50)">
      <!-- Axes -->
      <g stroke="#374151" stroke-width="1">
        <line x1="0" y1="60" x2="300" y2="60"/>
        <line x1="0" y1="20" x2="0" y2="100"/>
      </g>
      
      <!-- Voltage waveform -->
      <path d="M 0,60 Q 37.5,30 75,60 Q 112.5,90 150,60 Q 187.5,30 225,60 Q 262.5,90 300,60" 
            stroke="#DC2626" stroke-width="3" fill="none"/>
      <text x="310" y="45" font-family="Arial, sans-serif" font-size="11" fill="#DC2626">v(t)</text>
      
      <!-- Current waveform (with phase shift) -->
      <path d="M 25,60 Q 62.5,40 100,60 Q 137.5,80 175,60 Q 212.5,40 250,60 Q 287.5,80 325,60" 
            stroke="#3B82F6" stroke-width="3" fill="none"/>
      <text x="310" y="75" font-family="Arial, sans-serif" font-size="11" fill="#3B82F6">i(t)</text>
      
      <!-- Phase angle indicator -->
      <g stroke="#7C3AED" stroke-width="2" fill="none">
        <path d="M 0,60 Q 12.5,60 25,60"/>
        <text x="12.5" y="75" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#7C3AED">φ</text>
      </g>
      
      <!-- Power waveform -->
      <path d="M 0,85 Q 18.75,75 37.5,85 Q 56.25,95 75,85 Q 93.75,75 112.5,85 Q 131.25,95 150,85 Q 168.75,75 187.5,85 Q 206.25,95 225,85 Q 243.75,75 262.5,85 Q 281.25,95 300,85" 
            stroke="#10B981" stroke-width="2" fill="none" stroke-dasharray="3,3"/>
      <text x="310" y="90" font-family="Arial, sans-serif" font-size="11" fill="#10B981">p(t)</text>
    </g>
    
    <!-- Power equations -->
    <rect x="20" y="140" width="360" height="50" fill="#F0F9FF" stroke="#0EA5E9" stroke-width="1" rx="5"/>
    <text x="200" y="160" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#1E293B">Instantaneous Power: p(t) = v(t) × i(t)</text>
    <text x="200" y="175" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#6B7280">p(t) = VI cos φ (1 + cos 2ωt) + VI sin φ sin 2ωt</text>
  </g>

  <!-- Power Triangle -->
  <g transform="translate(470,80)">
    <rect x="0" y="0" width="480" height="280" fill="url(#triangleGrad)" stroke="#8B5CF6" stroke-width="3" rx="10"/>
    <text x="240" y="25" text-anchor="middle" font-family="Arial, sans-serif" font-size="20" font-weight="bold" fill="#1E293B">Power Triangle</text>
    
    <!-- Large power triangle -->
    <g transform="translate(240,150)">
      <!-- Triangle -->
      <g stroke="#1E293B" stroke-width="3" fill="none">
        <path d="M -120,60 L 120,60 L 120,-60 L -120,60"/>
      </g>
      
      <!-- Fill sections with different colors -->
      <polygon points="-120,60 120,60 120,-60" fill="url(#apparentPowerGrad)" opacity="0.2"/>
      
      <!-- Apparent Power (S) - Hypotenuse -->
      <g stroke="url(#apparentPowerGrad)" stroke-width="4" fill="url(#apparentPowerGrad)">
        <line x1="-120" y1="60" x2="120" y2="-60" marker-end="url(#powerArrow)"/>
        <text x="-20" y="10" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#DC2626">S (VA)</text>
        <text x="-20" y="25" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#DC2626">Apparent Power</text>
      </g>
      
      <!-- Active Power (P) - Base -->
      <g stroke="url(#activePowerGrad)" stroke-width="4" fill="url(#activePowerGrad)">
        <line x1="-120" y1="60" x2="120" y2="60" marker-end="url(#powerArrow)"/>
        <text x="0" y="80" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#059669">P (W)</text>
        <text x="0" y="95" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#059669">Active/Real Power</text>
      </g>
      
      <!-- Reactive Power (Q) - Height -->
      <g stroke="url(#reactivePowerGrad)" stroke-width="4" fill="url(#reactivePowerGrad)">
        <line x1="120" y1="60" x2="120" y2="-60" marker-end="url(#powerArrow)"/>
        <text x="145" y="10" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#1E40AF">Q (VAR)</text>
        <text x="145" y="25" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#1E40AF">Reactive Power</text>
      </g>
      
      <!-- Power Factor Angle -->
      <g stroke="#7C3AED" stroke-width="2" fill="none">
        <path d="M -100,60 Q -90,40 -80,20"/>
        <text x="-75" y="45" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#7C3AED">φ</text>
        <text x="-75" y="-80" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#7C3AED">Power Factor Angle</text>
      </g>
      
      <!-- Right angle indicator -->
      <g stroke="#6B7280" stroke-width="1" fill="none">
        <rect x="105" y="45" width="15" height="15"/>
      </g>
    </g>
    
    <!-- Triangle equations -->
    <rect x="20" y="240" width="440" height="30" fill="#F3E8FF" stroke="#C4B5FD" stroke-width="1" rx="5"/>
    <text x="240" y="258" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#1E293B">S² = P² + Q²     |     P = S cos φ     |     Q = S sin φ</text>
  </g>

  <!-- Power Factor Definition -->
  <g transform="translate(970,80)">
    <rect x="0" y="0" width="180" height="280" fill="#FEF3C7" stroke="#F59E0B" stroke-width="2" rx="10"/>
    <text x="90" y="25" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#1E293B">Power Factor</text>
    
    <!-- Power factor definition -->
    <g transform="translate(90,80)">
      <circle r="50" fill="none" stroke="#F59E0B" stroke-width="3"/>
      <text x="0" y="-10" text-anchor="middle" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="#D97706">PF</text>
      <text x="0" y="10" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" fill="#D97706">= P/S</text>
      <text x="0" y="25" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#D97706">= cos φ</text>
    </g>
    
    <!-- PF ranges -->
    <g font-family="Arial, sans-serif" font-size="11" fill="#374151">
      <text x="20" y="160" font-weight="bold" fill="#059669">Leading PF:</text>
      <text x="30" y="175">• Capacitive load</text>
      <text x="30" y="190">• Current leads voltage</text>
      <text x="30" y="205">• φ &lt; 0°</text>
      
      <text x="20" y="230" font-weight="bold" fill="#DC2626">Lagging PF:</text>
      <text x="30" y="245">• Inductive load</text>
      <text x="30" y="260">• Current lags voltage</text>
      <text x="30" y="275">• φ > 0°</text>
    </g>
  </g>

  <!-- Types of Power -->
  <g transform="translate(50,380)">
    <rect x="0" y="0" width="1100" height="200" fill="#F1F5F9" stroke="#CBD5E1" stroke-width="2" rx="10"/>
    <text x="550" y="25" text-anchor="middle" font-family="Arial, sans-serif" font-size="20" font-weight="bold" fill="#1E293B">Types of Power in AC Circuits</text>
    
    <!-- Active Power -->
    <g transform="translate(100,60)">
      <rect x="0" y="0" width="200" height="120" fill="url(#activePowerGrad)" stroke="#059669" stroke-width="2" rx="8" opacity="0.2"/>
      <rect x="0" y="0" width="200" height="120" fill="none" stroke="#059669" stroke-width="2" rx="8"/>
      <text x="100" y="25" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#1E293B">Active Power (P)</text>
      
      <!-- Light bulb representation -->
      <g transform="translate(100,50)">
        <circle r="20" fill="#FEF3C7" stroke="#F59E0B" stroke-width="2"/>
        <path d="M -12,-8 Q 0,-15 12,-8 M -12,0 Q 0,-8 12,0 M -12,8 Q 0,0 12,8" stroke="#F59E0B" stroke-width="2"/>
        <text x="0" y="-35" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#059669">Heat, Light</text>
        <text x="0" y="-25" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#059669">Work Done</text>
      </g>
      
      <text x="100" y="95" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#059669">P = VI cos φ (Watts)</text>
      <text x="100" y="110" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#6B7280">Actually consumed</text>
    </g>
    
    <!-- Reactive Power -->
    <g transform="translate(330,60)">
      <rect x="0" y="0" width="200" height="120" fill="url(#reactivePowerGrad)" stroke="#1E40AF" stroke-width="2" rx="8" opacity="0.2"/>
      <rect x="0" y="0" width="200" height="120" fill="none" stroke="#1E40AF" stroke-width="2" rx="8"/>
      <text x="100" y="25" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#1E293B">Reactive Power (Q)</text>
      
      <!-- Inductor/Capacitor representation -->
      <g transform="translate(100,50)">
        <!-- Inductor coil -->
        <g stroke="#3B82F6" stroke-width="3" fill="none">
          <path d="M -20,0 Q -15,-8 -10,0 Q -5,8 0,0 Q 5,-8 10,0 Q 15,8 20,0"/>
        </g>
        <text x="0" y="-25" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#1E40AF">Energy Storage</text>
        <text x="0" y="-15" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#1E40AF">&amp; Release</text>
      </g>
      
      <text x="100" y="95" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#1E40AF">Q = VI sin φ (VAR)</text>
      <text x="100" y="110" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#6B7280">Not consumed</text>
    </g>
    
    <!-- Apparent Power -->
    <g transform="translate(560,60)">
      <rect x="0" y="0" width="200" height="120" fill="url(#apparentPowerGrad)" stroke="#991B1B" stroke-width="2" rx="8" opacity="0.2"/>
      <rect x="0" y="0" width="200" height="120" fill="none" stroke="#991B1B" stroke-width="2" rx="8"/>
      <text x="100" y="25" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#1E293B">Apparent Power (S)</text>
      
      <!-- Generator representation -->
      <g transform="translate(100,50)">
        <circle r="18" fill="none" stroke="#DC2626" stroke-width="3"/>
        <text x="0" y="5" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#DC2626">G</text>
        <text x="0" y="-30" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#DC2626">Total Power</text>
        <text x="0" y="-20" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#DC2626">Rating</text>
      </g>
      
      <text x="100" y="95" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#DC2626">S = VI (VA)</text>
      <text x="100" y="110" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#6B7280">Equipment rating</text>
    </g>
    
    <!-- Power Factor -->
    <g transform="translate(790,60)">
      <rect x="0" y="0" width="200" height="120" fill="#F3E8FF" stroke="#8B5CF6" stroke-width="2" rx="8"/>
      <text x="100" y="25" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#1E293B">Power Factor</text>
      
      <!-- Power factor meter -->
      <g transform="translate(100,50)">
        <circle r="18" fill="none" stroke="#7C3AED" stroke-width="3"/>
        <line x1="-12" y1="12" x2="12" y2="-12" stroke="#7C3AED" stroke-width="3"/>
        <text x="0" y="-30" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#7C3AED">Efficiency</text>
        <text x="0" y="-20" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#7C3AED">Measure</text>
      </g>
      
      <text x="100" y="95" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#7C3AED">PF = P/S = cos φ</text>
      <text x="100" y="110" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#6B7280">0 to 1 (0 to 100%)</text>
    </g>
  </g>

  <!-- Power Factor Examples -->
  <g transform="translate(50,600)">
    <rect x="0" y="0" width="550" height="140" fill="#F0FDF4" stroke="#BBF7D0" stroke-width="2" rx="10"/>
    <text x="275" y="25" text-anchor="middle" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="#1E293B">Power Factor Examples</text>
    
    <!-- Unity PF -->
    <g transform="translate(80,50)">
      <rect x="0" y="0" width="100" height="70" fill="#DCFCE7" stroke="#16A34A" stroke-width="1" rx="5"/>
      <text x="50" y="18" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#1E293B">Unity PF</text>
      <text x="50" y="35" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#16A34A">PF = 1.0</text>
      <text x="50" y="48" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#374151">φ = 0°</text>
      <text x="50" y="60" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#374151">Resistive load</text>
    </g>
    
    <!-- Lagging PF -->
    <g transform="translate(200,50)">
      <rect x="0" y="0" width="100" height="70" fill="#DBEAFE" stroke="#3B82F6" stroke-width="1" rx="5"/>
      <text x="50" y="18" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#1E293B">Lagging PF</text>
      <text x="50" y="35" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#3B82F6">PF = 0.8</text>
      <text x="50" y="48" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#374151">φ = +37°</text>
      <text x="50" y="60" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#374151">Motor loads</text>
    </g>
    
    <!-- Leading PF -->
    <g transform="translate(320,50)">
      <rect x="0" y="0" width="100" height="70" fill="#FEF3C7" stroke="#F59E0B" stroke-width="1" rx="5"/>
      <text x="50" y="18" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#1E293B">Leading PF</text>
      <text x="50" y="35" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#F59E0B">PF = 0.9</text>
      <text x="50" y="48" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#374151">φ = -26°</text>
      <text x="50" y="60" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#374151">Capacitive</text>
    </g>
    
    <!-- Zero PF -->
    <g transform="translate(440,50)">
      <rect x="0" y="0" width="100" height="70" fill="#FEE2E2" stroke="#EF4444" stroke-width="1" rx="5"/>
      <text x="50" y="18" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#1E293B">Zero PF</text>
      <text x="50" y="35" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#EF4444">PF = 0</text>
      <text x="50" y="48" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#374151">φ = ±90°</text>
      <text x="50" y="60" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#374151">Pure L or C</text>
    </g>
  </g>

  <!-- Numerical Example -->
  <g transform="translate(620,600)">
    <rect x="0" y="0" width="530" height="140" fill="#FEF2F2" stroke="#FECACA" stroke-width="2" rx="10"/>
    <text x="265" y="25" text-anchor="middle" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="#1E293B">Numerical Example</text>
    
    <g font-family="Arial, sans-serif" fill="#374151">
      <text x="30" y="50" font-size="14" font-weight="bold">Given:</text>
      <text x="30" y="68">• Voltage: V = 230V</text>
      <text x="30" y="83">• Current: I = 10A</text>
      <text x="30" y="98">• Power Factor: cos φ = 0.8 (lagging)</text>
      <text x="30" y="113">• Phase angle: φ = cos⁻¹(0.8) = 37°</text>
      
      <text x="280" y="50" font-size="14" font-weight="bold" fill="#DC2626">Solution:</text>
      <text x="280" y="68" fill="#059669">Active Power: P = VI cos φ = 230×10×0.8 = 1840W</text>
      <text x="280" y="83" fill="#1E40AF">Reactive Power: Q = VI sin φ = 230×10×0.6 = 1380 VAR</text>
      <text x="280" y="98" fill="#DC2626">Apparent Power: S = VI = 230×10 = 2300 VA</text>
      <text x="280" y="113" fill="#7C3AED">Check: S = √(P² + Q²) = √(1840² + 1380²) = 2300 VA ✓</text>
    </g>
  </g>

  <!-- Importance and Applications -->
  <g transform="translate(50,760)">
    <text x="0" y="0" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#1E293B">Importance:</text>
    <g font-family="Arial, sans-serif" font-size="12" fill="#374151">
      <text x="120" y="0">• Higher PF = Better efficiency</text>
      <text x="350" y="0">• Lower reactive power = Reduced line losses</text>
      <text x="650" y="0">• Utility charges penalties for low PF</text>
      <text x="950" y="0">• PF correction using capacitors</text>
    </g>
    <text x="0" y="25" font-family="Arial, sans-serif" font-size="12" fill="#6B7280">Industrial target: PF > 0.9 | Residential typical: PF ≈ 0.85-0.95</text>
  </g>
</svg>