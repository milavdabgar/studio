<svg viewBox="0 0 1200 800" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .title-text { font-family: 'Segoe UI', Arial, sans-serif; font-size: 24px; font-weight: bold; fill: #1e3a8a; }
      .subtitle-text { font-family: 'Segoe UI', Arial, sans-serif; font-size: 18px; font-weight: 600; fill: #1e40af; }
      .label-text { font-family: 'Segoe UI', Arial, sans-serif; font-size: 14px; font-weight: 500; fill: #374151; }
      .value-text { font-family: 'Segoe UI', Arial, sans-serif; font-size: 12px; font-weight: 600; fill: #dc2626; }
      .formula-text { font-family: 'Segoe UI', Arial, sans-serif; font-size: 11px; font-weight: 500; fill: #059669; }
      .energy-field { stroke: #7c3aed; fill: rgba(124, 58, 237, 0.2); stroke-width: 2; }
      .magnetic-field { stroke: #2563eb; fill: none; stroke-width: 2; stroke-dasharray: 3,2; }
      .current-flow { stroke: #dc2626; fill: #dc2626; stroke-width: 3; }
      .inductor-coil { stroke: #4338ca; fill: none; stroke-width: 2; }
    </style>
    
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#374151" />
    </marker>
    
    <marker id="current-arrow" markerWidth="8" markerHeight="6" refX="7" refY="3" orient="auto">
      <polygon points="0 0, 8 3, 0 6" fill="#dc2626" />
    </marker>
    
    <marker id="field-arrow" markerWidth="8" markerHeight="6" refX="7" refY="3" orient="auto">
      <polygon points="0 0, 8 3, 0 6" fill="#2563eb" />
    </marker>
    
    <radialGradient id="fieldGradient" cx="50%" cy="50%" r="50%">
      <stop offset="0%" style="stop-color:#7c3aed;stop-opacity:0.4" />
      <stop offset="100%" style="stop-color:#7c3aed;stop-opacity:0.1" />
    </radialGradient>
  </defs>

  <!-- Background -->
  <rect width="1200" height="800" fill="#f8fafc"/>

  <!-- Main Title -->
  <text x="600" y="30" text-anchor="middle" class="title-text">Energy Stored in Magnetic Field</text>
  <text x="600" y="55" text-anchor="middle" class="subtitle-text">Magnetic Energy Storage in Inductors</text>

  <!-- Main Formula -->
  <g id="mainFormula" transform="translate(50, 100)">
    <rect x="0" y="0" width="500" height="150" fill="#f0f9ff" stroke="#3b82f6" stroke-width="2" rx="8"/>
    <text x="250" y="30" text-anchor="middle" class="subtitle-text">Fundamental Energy Formula</text>
    
    <text x="250" y="70" text-anchor="middle" class="title-text" style="font-size: 32px; fill: #dc2626;">U = ½Li²</text>
    
    <text x="50" y="100" class="formula-text">Where: U = Energy (Joules)</text>
    <text x="50" y="120" class="formula-text">L = Inductance (Henry)</text>
    <text x="50" y="135" class="formula-text">i = Current (Amperes)</text>
    
    <text x="300" y="100" class="formula-text">Alternative forms:</text>
    <text x="300" y="120" class="formula-text">U = ½Φi (using flux)</text>
    <text x="300" y="135" class="formula-text">U = B²V/2μ (field energy)</text>
  </g>

  <!-- Inductor Visualization -->
  <g id="inductorViz" transform="translate(600, 100)">
    <rect x="0" y="0" width="550" height="300" fill="#fef7cd" stroke="#f59e0b" stroke-width="2" rx="8"/>
    <text x="275" y="30" text-anchor="middle" class="subtitle-text">Energy Storage in Inductor</text>
    
    <!-- Inductor with field -->
    <g transform="translate(50, 50)">
      <!-- Core -->
      <rect x="150" y="40" width="150" height="30" fill="#6b7280" stroke="#374151" stroke-width="2" rx="5"/>
      <text x="225" y="58" text-anchor="middle" class="formula-text" fill="white">Iron Core</text>
      
      <!-- Coil -->
      <ellipse cx="130" cy="55" rx="12" ry="18" class="inductor-coil"/>
      <ellipse cx="320" cy="55" rx="12" ry="18" class="inductor-coil"/>
      
      <!-- Current -->
      <line x1="100" y1="55" x2="80" y2="55" class="current-flow" marker-end="url(#current-arrow)"/>
      <text x="70" y="50" class="formula-text">i</text>
      
      <!-- Magnetic field -->
      <ellipse cx="225" cy="55" rx="80" ry="20" fill="url(#fieldGradient)" class="energy-field"/>
      <path d="M 160,50 L 290,50" class="magnetic-field" marker-end="url(#field-arrow)"/>
      <path d="M 160,55 L 290,55" class="magnetic-field" marker-end="url(#field-arrow)"/>
      <path d="M 160,60 L 290,60" class="magnetic-field" marker-end="url(#field-arrow)"/>
      
      <text x="225" y="45" text-anchor="middle" class="formula-text">Magnetic Field</text>
      <text x="225" y="85" text-anchor="middle" class="formula-text">Energy Density: u = B²/2μ</text>
    </g>
    
    <!-- Energy graph -->
    <g transform="translate(80, 150)">
      <text x="200" y="0" text-anchor="middle" class="label-text">Energy vs Current Relationship</text>
      
      <!-- Axes -->
      <line x1="50" y1="100" x2="350" y2="100" stroke="#374151" stroke-width="2" marker-end="url(#arrowhead)"/>
      <line x1="50" y1="100" x2="50" y2="30" stroke="#374151" stroke-width="2" marker-end="url(#arrowhead)"/>
      
      <!-- Parabolic curve -->
      <path d="M 50,100 Q 150,70 200,50 Q 250,35 350,20" stroke="#16a34a" stroke-width="4" fill="none"/>
      
      <text x="200" y="15" text-anchor="middle" class="value-text">U ∝ i²</text>
      <text x="300" y="110" class="formula-text">Current (A)</text>
      <g transform="rotate(-90 30 65)">
        <text x="30" y="70" text-anchor="middle" class="formula-text">Energy (J)</text>
      </g>
    </g>
  </g>

  <!-- Applications -->
  <g id="applications" transform="translate(50, 450)">
    <text x="550" y="0" text-anchor="middle" class="subtitle-text">Practical Applications</text>
    
    <rect x="0" y="20" width="1100" height="250" fill="white" stroke="#d1d5db" stroke-width="1" rx="5"/>
    
    <!-- SMES -->
    <g transform="translate(50, 50)">
      <text x="150" y="0" text-anchor="middle" class="label-text">SMES (Superconducting Magnetic Energy Storage)</text>
      <rect x="0" y="10" width="300" height="80" fill="#f0fdf4" stroke="#16a34a" stroke-width="2" rx="3"/>
      
      <ellipse cx="80" cy="50" rx="40" ry="25" class="inductor-coil" stroke="#16a34a" stroke-width="3"/>
      <ellipse cx="80" cy="50" rx="25" ry="15" fill="url(#fieldGradient)"/>
      <text x="80" y="55" text-anchor="middle" class="formula-text">Superconducting Coil</text>
      
      <text x="180" y="40" class="formula-text">• No resistance losses</text>
      <text x="180" y="55" class="formula-text">• Rapid charge/discharge</text>
      <text x="180" y="70" class="formula-text">• Grid stabilization</text>
      
      <text x="150" y="110" text-anchor="middle" class="formula-text">Energy: 1-10 MJ, Efficiency: >95%</text>
    </g>
    
    <!-- Switching regulators -->
    <g transform="translate(400, 50)">
      <text x="150" y="0" text-anchor="middle" class="label-text">Switching Power Supplies</text>
      <rect x="0" y="10" width="300" height="80" fill="#fef7cd" stroke="#f59e0b" stroke-width="2" rx="3"/>
      
      <!-- Simple inductor circuit -->
      <ellipse cx="80" cy="50" rx="20" ry="12" class="inductor-coil" stroke="#f59e0b" stroke-width="3"/>
      <text x="80" y="35" text-anchor="middle" class="formula-text">L</text>
      
      <!-- Switch -->
      <rect x="120" y="45" width="15" height="10" fill="white" stroke="#374151" stroke-width="2"/>
      <text x="127" y="52" text-anchor="middle" class="formula-text">S</text>
      
      <text x="180" y="40" class="formula-text">• Energy transfer</text>
      <text x="180" y="55" class="formula-text">• Voltage regulation</text>
      <text x="180" y="70" class="formula-text">• Continuous power</text>
      
      <text x="150" y="110" text-anchor="middle" class="formula-text">Typical: 1-100 μH, Energy: mJ range</text>
    </g>
    
    <!-- Electric vehicles -->
    <g transform="translate(750, 50)">
      <text x="150" y="0" text-anchor="middle" class="label-text">Electric Vehicle Systems</text>
      <rect x="0" y="10" width="300" height="80" fill="#fdf2f8" stroke="#ec4899" stroke-width="2" rx="3"/>
      
      <!-- Motor representation -->
      <circle cx="80" cy="50" r="25" fill="none" stroke="#ec4899" stroke-width="3"/>
      <ellipse cx="80" cy="50" rx="15" ry="8" class="inductor-coil"/>
      <text x="80" y="55" text-anchor="middle" class="formula-text">Motor</text>
      
      <text x="180" y="40" class="formula-text">• Motor windings</text>
      <text x="180" y="55" class="formula-text">• Regenerative braking</text>
      <text x="180" y="70" class="formula-text">• Power management</text>
      
      <text x="150" y="110" text-anchor="middle" class="formula-text">High power inductors: kW-MW range</text>
    </g>
    
    <!-- Numerical example -->
    <g transform="translate(50, 160)">
      <text x="500" y="0" text-anchor="middle" class="label-text">Numerical Example</text>
      <rect x="0" y="10" width="1000" height="60" fill="#f8fafc" stroke="#6b7280" stroke-width="1" rx="3"/>
      
      <text x="20" y="30" class="label-text">Problem: Calculate energy stored in 50 mH inductor carrying 8 A current</text>
      <text x="20" y="45" class="formula-text">Solution: U = ½Li² = ½ × 0.05 × (8)² = ½ × 0.05 × 64 = 1.6 J</text>
      <text x="20" y="60" class="value-text">Answer: 1.6 Joules stored in magnetic field</text>
      
      <text x="550" y="30" class="formula-text">If current increases to 16 A:</text>
      <text x="550" y="45" class="formula-text">U = ½ × 0.05 × (16)² = 6.4 J</text>
      <text x="550" y="60" class="value-text">Energy increases by factor of 4 (i² relationship)</text>
    </g>
  </g>

  <!-- Key points -->
  <g id="keyPoints" transform="translate(50, 750)">
    <text x="0" y="0" class="formula-text">Key Points: 1) Energy ∝ i² (quadratic relationship with current) 2) Energy stored in magnetic field, not electric</text>
    <text x="0" y="20" class="formula-text">3) No energy loss in ideal inductors 4) Applications: SMES, power electronics, motor drives</text>
  </g>
</svg>