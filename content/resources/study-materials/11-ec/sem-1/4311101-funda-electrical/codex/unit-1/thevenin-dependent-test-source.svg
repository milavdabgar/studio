<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" width="900" height="500" viewBox="0 0 900 500" role="img" aria-label="Thevenin with dependent source via test source">
  <title>Thevenin with Dependent Sources (Test Source)</title>
  <desc>Procedure: zero independent sources, apply test source at terminals, compute V/I to get R_th when dependent sources present.</desc>
  <defs>
    <style>
      .h { font: 18px sans-serif; font-weight: 700; fill: #111; }
      .t { font: 14px sans-serif; fill: #111; }
      .s { font: 14px sans-serif; fill: #374151; }
      .line { stroke: #111; stroke-width: 2; fill: none; }
      .box { fill: #f8fafc; stroke: #cbd5e1; }
      .note { fill: #eef2ff; stroke: #c7d2fe; }
    </style>
  </defs>

  <rect x="20" y="20" width="860" height="460" rx="12" class="box"/>
  <text x="40" y="60" class="h">R_th with dependent sources</text>

  <g transform="translate(40,100)">
    <text x="0" y="0" class="t">Step 1: Zero independent sources</text>
    <text x="0" y="24" class="t">Step 2: Apply test source at terminals a–b</text>
    <text x="0" y="48" class="t">Step 3: Solve circuit → find V_test / I_test = R_th</text>

    <!-- simple dependent source block and test source at terminals -->
    <line x1="0" y1="100" x2="200" y2="100" class="line"/>
    <rect x="200" y="80" width="100" height="40" class="box"/>
    <text x="250" y="105" class="s" text-anchor="middle">Dependent</text>
    <line x1="300" y1="100" x2="380" y2="100" class="line"/>
    <circle cx="420" cy="100" r="18" fill="none" stroke="#111" stroke-width="2"/>
    <text x="420" y="105" class="s" text-anchor="middle">V<tspan baseline-shift="sub">test</tspan></text>
    <line x1="438" y1="100" x2="520" y2="100" class="line"/>
    <text x="520" y="96" class="s">a</text>
    <line x1="520" y1="100" x2="520" y2="160" class="line"/>
    <line x1="520" y1="160" x2="0" y2="160" class="line"/>
    <text x="0" y="156" class="s">b</text>

    <g transform="translate(580,60)">
      <rect x="0" y="0" width="260" height="120" rx="10" class="note"/>
      <text x="12" y="28" class="s">If using test current source I_test:</text>
      <text x="12" y="52" class="s">Apply I_test from a→b, compute V_ab</text>
      <text x="12" y="76" class="s">R_th = V_ab / I_test</text>
    </g>
  </g>
</svg>

