<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" width="1280" height="720" viewBox="0 0 1280 720" role="img" aria-label="MPPT Perturb &amp; Observe flow">
  <title>MPPT Flow (Perturb &amp; Observe)</title>
  <desc>Flowchart for P&amp;O MPPT: perturb duty, observe ΔP, reverse or keep direction.</desc>
  <defs>
    <style>
      .box{fill:#f8fafc;stroke:#cbd5e1}
      .t{font:16px sans-serif;fill:#222}
      .h{font:18px sans-serif;font-weight:700;fill:#111}
      .arr{stroke:#64748b;stroke-width:2;fill:none;marker-end:url(#a)}
    </style>
    <marker id="a" viewBox="0 0 10 10" refX="9" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse">
      <path d="M 0 0 L 10 5 L 0 10 z" fill="#64748b"/>
    </marker>
  </defs>
  <rect x="32" y="32" width="1216" height="656" rx="12" class="box"/>
  <rect x="160" y="120" width="220" height="60" rx="8" class="box"/>
  <text x="270" y="158" class="t" text-anchor="middle">Measure V, I → P</text>
  <line x1="270" y1="180" x2="270" y2="220" class="arr"/>
  <rect x="160" y="220" width="220" height="60" rx="8" class="box"/>
  <text x="270" y="258" class="t" text-anchor="middle">Perturb duty (ΔD)</text>
  <line x1="270" y1="280" x2="270" y2="320" class="arr"/>
  <rect x="160" y="320" width="220" height="60" rx="8" class="box"/>
  <text x="270" y="358" class="t" text-anchor="middle">Measure V, I → P'</text>
  <line x1="380" y1="350" x2="520" y2="350" class="arr"/>
  <rect x="520" y="320" width="280" height="60" rx="8" class="box"/>
  <text x="660" y="358" class="t" text-anchor="middle">If ΔP = P' − P > 0 → keep direction</text>
  <line x1="660" y1="380" x2="660" y2="420" class="arr"/>
  <rect x="520" y="420" width="280" height="60" rx="8" class="box"/>
  <text x="660" y="458" class="t" text-anchor="middle">Else reverse perturb sign</text>
  <line x1="660" y1="480" x2="660" y2="520" class="arr"/>
  <rect x="520" y="520" width="280" height="60" rx="8" class="box"/>
  <text x="660" y="558" class="t" text-anchor="middle">Repeat at next step</text>
</svg>
