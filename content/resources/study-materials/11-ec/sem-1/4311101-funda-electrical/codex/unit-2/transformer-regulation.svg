<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" width="1280" height="720" viewBox="0 0 1280 720" role="img" aria-label="Transformer voltage regulation diagram">
  <title>Transformer Voltage Regulation</title>
  <desc>Definition, formula and phasor context for transformer voltage regulation with load power factor.</desc>
  <defs>
    <style>
      .h { font: 24px sans-serif; font-weight: 700; fill: #111; }
      .t { font: 18px sans-serif; fill: #111; }
      .s { font: 16px sans-serif; fill: #374151; }
      .axis { stroke: #94a3b8; stroke-width: 1; }
      .line { stroke: #111; stroke-width: 2; fill: none; }
      .aux { stroke: #94a3b8; stroke-width: 1.5; fill: none; }
      .blue { stroke: #0ea5e9; }
      .green { stroke: #22c55e; }
      .red { stroke: #ef4444; }
      .box { fill: #f8fafc; stroke: #cbd5e1; }
      .note { fill: #eef2ff; stroke: #c7d2fe; }
      .label { fill: #0ea5e9; }
      marker#arrow { markerWidth: 10; markerHeight: 10; refX: 9; refY: 3; orient: auto; }
    </style>
    <marker id="arrow" viewBox="0 0 10 10" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <path d="M0,0 L10,3 L0,6 Z" fill="#111"/>
    </marker>
  </defs>

  <rect x="40" y="40" width="1200" height="640" rx="12" class="box"/>
  <text x="60" y="80" class="h">Voltage Regulation</text>
  <text x="60" y="120" class="t">Regulation (%) = (V_no-load − V_full-load) / V_full-load × 100</text>
  <text x="60" y="150" class="s">Shows drop in secondary terminal voltage from no‑load to full‑load at a given power factor.</text>

  <!-- Phasor context -->
  <g transform="translate(60,220)">
    <text x="0" y="-20" class="t">Phasor context (secondary side)</text>
    <line x1="0" y1="0" x2="320" y2="0" class="axis"/>
    <line x1="0" y1="0" x2="0" y2="-220" class="axis"/>
    <!-- V2 no-load (approx = E2) -->
    <line x1="0" y1="0" x2="240" y2="0" class="line blue" marker-end="url(#arrow)"/>
    <text x="245" y="-6" class="s label">V<tspan baseline-shift="sub">nl</tspan> ≈ E<tspan baseline-shift="sub">2</tspan></text>
    <!-- Load current at lagging PF -->
    <line x1="0" y1="0" x2="200" y2="80" class="line green" marker-end="url(#arrow)"/>
    <text x="200" y="100" class="s label">I<tspan baseline-shift="sub">2</tspan> (lag)</text>
    <!-- Voltage drop across Req, Xeq (approx) -->
    <line x1="200" y1="80" x2="240" y2="0" class="aux red" marker-end="url(#arrow)"/>
    <text x="205" y="60" class="s">ΔV ≈ I<tspan baseline-shift="sub">2</tspan>(R<tspan baseline-shift="sub">eq</tspan> + jX<tspan baseline-shift="sub">eq</tspan>)</text>
    <!-- Vfl -->
    <line x1="0" y1="0" x2="210" y2="20" class="line" marker-end="url(#arrow)"/>
    <text x="215" y="30" class="s label">V<tspan baseline-shift="sub">fl</tspan></text>
  </g>

  <!-- Notes -->
  <g transform="translate(720,220)">
    <rect x="0" y="0" width="480" height="200" rx="10" class="note"/>
    <text x="16" y="30" class="t">Notes</text>
    <text x="16" y="60" class="s">• Lagging PF → higher regulation (more drop)</text>
    <text x="16" y="88" class="s">• Leading PF → lower or negative regulation</text>
    <text x="16" y="116" class="s">• Use exact phasor method with R<tspan baseline-shift="sub">eq</tspan>, X<tspan baseline-shift="sub">eq</tspan></text>
    <text x="16" y="144" class="s">• Approx: refer all values to one side</text>
  </g>

  <!-- Equivalent circuit (referred to secondary) -->
  <g transform="translate(60,500)">
    <text x="0" y="-16" class="t">Approx. equivalent circuit (referred to secondary)</text>
    <line x1="0" y1="0" x2="180" y2="0" class="line"/>
    <rect x="180" y="-16" width="36" height="32" class="box"/>
    <text x="198" y="6" class="s" text-anchor="middle">R<tspan baseline-shift="sub">eq</tspan></text>
    <line x1="216" y1="0" x2="252" y2="0" class="line"/>
    <line x1="252" y1="-32" x2="252" y2="32" class="line"/>
    <circle cx="252" cy="0" r="16" fill="none" stroke="#111" stroke-width="2"/>
    <text x="252" y="6" class="s" text-anchor="middle">jX<tspan baseline-shift="sub">eq</tspan></text>
    <line x1="252" y1="0" x2="340" y2="0" class="line"/>
    <line x1="340" y1="0" x2="340" y2="-40" class="line"/>
    <line x1="340" y1="-40" x2="420" y2="-40" class="line"/>
    <text x="420" y="-44" class="s">Load (V<tspan baseline-shift="sub">2</tspan>)</text>
  </g>
</svg>

