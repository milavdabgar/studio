<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" width="1100" height="720" viewBox="0 0 1100 720" role="img" aria-label="PN junction energy band diagrams: equilibrium, forward bias, reverse bias with depletion and barrier annotations">
  <title>PN Junction — Energy Band Diagrams (Equilibrium, Forward Bias, Reverse Bias)</title>
  <defs>
    <style>
      .bg { fill: #f8fafc; stroke: #cbd5e1; }
      .axis { stroke: #0f172a; stroke-width: 2; }
      .band { fill: #e2e8f0; stroke: #94a3b8; }
      .ec { stroke: #2563eb; stroke-width: 2.5; }
      .ev { stroke: #10b981; stroke-width: 2.5; }
      .ef { stroke: #ef4444; stroke-width: 2; stroke-dasharray: 8 6; }
      .dep { fill: #fde68a; stroke: #f59e0b; }
      .h1 { font: 24px sans-serif; font-weight: 700; fill: #0f172a; }
      .h2 { font: 18px sans-serif; font-weight: 600; fill: #0f172a; }
      .t { font: 14px sans-serif; fill: #111827; }
      .note { font: 13px sans-serif; fill: #334155; }
      .arr { fill: #0f172a; }
    </style>
    <marker id="arrow-b" viewBox="0 0 10 10" refX="10" refY="5" markerWidth="8" markerHeight="8" orient="auto-start-reverse">
      <path d="M 0 0 L 10 5 L 0 10 z" class="arr"/>
    </marker>
  </defs>

  <rect x="20" y="20" width="1060" height="680" rx="16" class="bg"/>
  <text x="40" y="60" class="h1">PN Junction — Energy Bands and Depletion Region</text>
  <text x="40" y="88" class="t">Panels show conduction band (Ec), Fermi level (Ef), valence band (Ev), built‑in potential (Vbi), and depletion width (W) for equilibrium, forward bias, and reverse bias.</text>

  <!-- Three panels layout -->
  <g transform="translate(40,120)">
    <!-- Panel 1: Equilibrium -->
    <rect x="0" y="0" width="320" height="520" rx="12" class="bg"/>
    <text x="12" y="26" class="h2">Equilibrium (V = 0)</text>
    <!-- Depletion zone -->
    <rect x="140" y="80" width="40" height="360" class="dep" opacity="0.6"/>
    <text x="150" y="64" class="t" text-anchor="middle">W</text>
    <!-- Ec/Ev piecewise: P-side higher Ev, N-side lower Ev; Ec opposite slope to show junction bending -->
    <path d="M 20 160 L 140 200 L 180 220 L 300 240" class="ec"/>
    <path d="M 20 420 L 140 380 L 180 360 L 300 340" class="ev"/>
    <!-- Fermi level flat at equilibrium -->
    <line x1="20" y1="300" x2="300" y2="300" class="ef"/>
    <text x="304" y="304" class="t">Ef</text>
    <!-- Built-in potential bracket -->
    <line x1="140" y1="200" x2="140" y2="380" class="axis"/>
    <line x1="180" y1="220" x2="180" y2="360" class="axis"/>
    <path d="M 140 200 L 180 200" class="axis"/>
    <path d="M 140 380 L 180 380" class="axis"/>
    <text x="132" y="292" class="t" transform="rotate(-90 132 292)">q·Vbi</text>
    <!-- Labels P and N -->
    <text x="60" y="500" class="t">P-side</text>
    <text x="240" y="500" class="t">N-side</text>
    <text x="24" y="156" class="note">Ec</text>
    <text x="24" y="424" class="note">Ev</text>
  </g>

  <g transform="translate(390,120)">
    <!-- Panel 2: Forward bias -->
    <rect x="0" y="0" width="320" height="520" rx="12" class="bg"/>
    <text x="12" y="26" class="h2">Forward bias (V > 0)</text>
    <rect x="150" y="100" width="24" height="320" class="dep" opacity="0.6"/>
    <text x="162" y="90" class="t" text-anchor="middle">W↓</text>
    <!-- Bands tilt downward left→right indicating reduced barrier -->
    <path d="M 20 170 L 140 200 L 174 208 L 300 214" class="ec"/>
    <path d="M 20 410 L 140 380 L 174 372 L 300 366" class="ev"/>
    <!-- Fermi quasi-levels: split (Fp on P, Fn on N) -->
    <line x1="20" y1="305" x2="150" y2="305" class="ef"/>
    <line x1="174" y1="295" x2="300" y2="295" class="ef"/>
    <text x="24" y="309" class="t">Fp</text>
    <text x="304" y="299" class="t">Fn</text>
    <!-- Arrow showing carrier injection -->
    <line x1="120" y1="240" x2="174" y2="240" class="axis" marker-end="url(#arrow-b)"/>
    <text x="80" y="236" class="note">holes →</text>
    <line x1="200" y1="350" x2="150" y2="350" class="axis" marker-end="url(#arrow-b)"/>
    <text x="206" y="346" class="note">← electrons</text>
    <text x="24" y="166" class="note">Ec</text>
    <text x="24" y="414" class="note">Ev</text>
  </g>

  <g transform="translate(740,120)">
    <!-- Panel 3: Reverse bias -->
    <rect x="0" y="0" width="320" height="520" rx="12" class="bg"/>
    <text x="12" y="26" class="h2">Reverse bias (V &lt; 0)</text>
    <rect x="135" y="60" width="50" height="400" class="dep" opacity="0.6"/>
    <text x="160" y="52" class="t" text-anchor="middle">W↑</text>
    <!-- Bands tilt upward left→right indicating increased barrier -->
    <path d="M 20 150 L 140 200 L 185 220 L 300 260" class="ec"/>
    <path d="M 20 430 L 140 380 L 185 360 L 300 320" class="ev"/>
    <!-- Fermi quasi-levels further split -->
    <line x1="20" y1="310" x2="140" y2="310" class="ef"/>
    <line x1="185" y1="290" x2="300" y2="290" class="ef"/>
    <text x="24" y="314" class="t">Fp</text>
    <text x="304" y="294" class="t">Fn</text>
    <!-- Breakdown note -->
    <text x="20" y="480" class="note">High reverse field → possible Zener/avalanche breakdown</text>
    <text x="24" y="146" class="note">Ec</text>
    <text x="24" y="434" class="note">Ev</text>
  </g>

  <text x="40" y="660" class="note">Ec: conduction band edge, Ev: valence band edge, Ef/Fp/Fn: (quasi-)Fermi levels, W: depletion width, q·Vbi: built-in potential energy barrier.</text>
</svg>
