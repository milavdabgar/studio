<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg xmlns="http://www.w3.org/2000/svg" width="1200" height="900" viewBox="0 0 1200 900">
  <title>JVM Architecture: Class Loader, Runtime Data Areas, Execution Engine</title>
  <desc>
    High-level JVM architecture showing class loading, runtime memory areas, execution engine, JIT compilation,
    garbage collection, and native interface. Course: 4343203 Java Programming — Unit 1 (Java Fundamentals).
  </desc>
  <defs>
    <style type="text/css"><![CDATA[
      .h1 { font: 700 30px/1.2 system-ui, -apple-system, Segoe UI, Roboto, Arial; fill: #111; }
      .h2 { font: 600 20px/1.2 system-ui, -apple-system, Segoe UI, Roboto, Arial; fill: #111; }
      .lab { font: 600 13px/1.2 system-ui, -apple-system, Segoe UI, Roboto, Arial; fill: #111; }
      .txt { font: 400 13px/1.4 system-ui, -apple-system, Segoe UI, Roboto, Arial; fill: #111; }
      .small { font: 400 12px/1.2 system-ui, -apple-system, Segoe UI, Roboto, Arial; fill: #333; }
      .panel { fill: #fafafa; stroke: #ddd; stroke-width: 1.2; rx: 12; }
      .box { fill: #fff; stroke: #333; stroke-width: 1.5; rx: 10; }
      .area { fill: #eef7ff; stroke: #0b74de; stroke-width: 1.2; rx: 10; }
      .engine { fill: #e9f7ef; stroke: #1a7f37; stroke-width: 1.2; rx: 10; }
      .jit { fill: #fff7e6; stroke: #d9480f; stroke-width: 1.2; rx: 10; }
      .gc { fill: #f3e8ff; stroke: #7e22ce; stroke-width: 1.2; rx: 10; }
      .arrow { marker-end: url(#arrowhead); stroke: #333; stroke-width: 1.6; fill: none; }
    ]]></style>
    <marker id="arrowhead" viewBox="0 0 10 10" refX="8" refY="5" markerWidth="8" markerHeight="8" orient="auto-start-reverse">
      <path d="M 0 0 L 10 5 L 0 10 z" fill="#333" />
    </marker>
  </defs>

  <text class="h1" x="40" y="50">JVM Architecture</text>
  <text class="txt" x="40" y="78">From .class input to bytecode execution with JIT and garbage collection.</text>

  <!-- Overall panels -->
  <rect class="panel" x="40" y="110" width="1120" height="740" />

  <!-- Left: Class Loader Subsystem -->
  <rect class="box" x="60" y="140" width="320" height="200" />
  <text class="h2" x="80" y="170">Class Loader Subsystem</text>
  <rect class="area" x="80" y="190" width="280" height="36" />
  <text class="lab" x="90" y="213">Loading (Bootstrap, Extension, Application)</text>
  <rect class="area" x="80" y="232" width="280" height="36" />
  <text class="lab" x="90" y="255">Linking (Verify → Prepare → Resolve)</text>
  <rect class="area" x="80" y="274" width="280" height="36" />
  <text class="lab" x="90" y="297">Initialization (Static initializers)</text>
  <text class="small" x="80" y="324">Reads .class from classpath, verifies bytecode safety (stack map, access rules).</text>

  <!-- Middle: Runtime Data Areas -->
  <rect class="box" x="420" y="140" width="360" height="560" />
  <text class="h2" x="440" y="170">Runtime Data Areas</text>
  <rect class="area" x="440" y="190" width="320" height="80" />
  <text class="lab" x="450" y="214">Method Area</text>
  <text class="small" x="450" y="234">Class metadata, runtime constant pool, code</text>
  <rect class="area" x="440" y="280" width="320" height="140" />
  <text class="lab" x="450" y="304">Heap</text>
  <text class="small" x="450" y="324">Objects, arrays; managed by Garbage Collector</text>
  <rect class="area" x="440" y="430" width="150" height="160" />
  <text class="lab" x="450" y="454">Java Stacks</text>
  <text class="small" x="450" y="474">Frames: locals, operand stack, refs</text>
  <rect class="area" x="610" y="430" width="150" height="70" />
  <text class="lab" x="620" y="454">PC Registers</text>
  <text class="small" x="620" y="474">Per-thread</text>
  <rect class="area" x="610" y="510" width="150" height="80" />
  <text class="lab" x="620" y="534">Native Stacks</text>
  <text class="small" x="620" y="554">JNI/native calls</text>

  <!-- Right: Execution Engine -->
  <rect class="box" x="820" y="140" width="320" height="560" />
  <text class="h2" x="840" y="170">Execution Engine</text>
  <rect class="engine" x="840" y="190" width="280" height="70" />
  <text class="lab" x="850" y="214">Interpreter</text>
  <text class="small" x="850" y="234">Executes bytecodes sequentially</text>
  <rect class="jit" x="840" y="270" width="280" height="90" />
  <text class="lab" x="850" y="294">JIT Compiler (HotSpot C1/C2)</text>
  <text class="small" x="850" y="314">Compiles hot methods to native code; profiling &amp; inlining</text>
  <rect class="gc" x="840" y="370" width="280" height="110" />
  <text class="lab" x="850" y="394">Garbage Collector</text>
  <text class="small" x="850" y="414">G1/ZGC/Serial/Parallel; young/old generations</text>
  <rect class="engine" x="840" y="490" width="280" height="60" />
  <text class="lab" x="850" y="514">Bytecode Verifier Support</text>
  <rect class="engine" x="840" y="560" width="280" height="60" />
  <text class="lab" x="850" y="584">JNI Interface</text>

  <!-- Data Flows -->
  <path class="arrow" d="M 380 220 L 420 230" />
  <text class="small" x="300" y="214">.class →</text>
  <path class="arrow" d="M 600 320 L 840 320" />
  <text class="small" x="640" y="312">bytecodes →</text>
  <path class="arrow" d="M 980 360 L 760 360" />
  <text class="small" x="820" y="352">optimized code ↔ profiling</text>
  <path class="arrow" d="M 980 430 L 760 430" />
  <text class="small" x="800" y="422">allocations, write barriers</text>

  <!-- Notes -->
  <rect class="panel" x="60" y="360" width="320" height="340" />
  <text class="h2" x="80" y="390">Key Points</text>
  <text class="txt" x="80" y="416">• Platform independence: javac → bytecode; JVM executes on host.</text>
  <text class="txt" x="80" y="440">• Verification ensures type-safety &amp; stack discipline before execution.</text>
  <text class="txt" x="80" y="464">• JIT compiles hot spots; interpreter handles cold paths.</text>
  <text class="txt" x="80" y="488">• GC reclaims unreachable objects; pauses depend on collector.</text>
  <text class="txt" x="80" y="512">• Each thread has its own stack, PC, native stack.</text>
  <text class="txt" x="80" y="536">• Method area and heap are shared among threads.</text>

  <!-- Legend -->
  <rect class="box" x="60" y="720" width="1080" height="110" />
  <rect class="area" x="80" y="740" width="18" height="18" />
  <text class="small" x="105" y="754">Memory/Area</text>
  <rect class="engine" x="220" y="740" width="18" height="18" />
  <text class="small" x="245" y="754">Engine/Service</text>
  <rect class="jit" x="380" y="740" width="18" height="18" />
  <text class="small" x="405" y="754">JIT Compiler</text>
  <rect class="gc" x="520" y="740" width="18" height="18" />
  <text class="small" x="545" y="754">Garbage Collector</text>
  <text class="small" x="80" y="784">HotSpot tiers: C1 (client) for fast compile, C2 (server) for aggressive optimization; modern JVMs use tiered compilation.</text>
</svg>

