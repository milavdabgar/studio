<?xml version="1.0" encoding="UTF-8"?>
<svg viewBox="0 0 1800 1400" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .title { font-family: Arial, sans-serif; font-size: 28px; font-weight: bold; fill: #2c3e50; }
      .subtitle { font-family: Arial, sans-serif; font-size: 20px; font-weight: bold; fill: #34495e; }
      .text { font-family: Arial, sans-serif; font-size: 14px; fill: #2c3e50; }
      .small-text { font-family: Arial, sans-serif; font-size: 12px; fill: #2c3e50; }
      .code { font-family: 'Courier New', monospace; font-size: 12px; fill: #2c3e50; }
      .highlight { fill: #3498db; }
      .warning { fill: #e74c3c; }
      .success { fill: #27ae60; }
      .info { fill: #f39c12; }
    </style>
  </defs>

  <!-- Background -->
  <rect width="1800" height="1400" fill="#f8f9fa"/>

  <!-- Title -->
  <text x="900" y="40" text-anchor="middle" class="title">Expression Evaluation using Stack</text>
  <text x="900" y="70" text-anchor="middle" class="text">Infix, Prefix, Postfix Notation &amp; Conversion Algorithms</text>

  <!-- Expression Types Overview -->
  <g transform="translate(50, 100)">
    <text x="0" y="0" class="subtitle">1. Expression Notation Types</text>

    <g transform="translate(0, 40)">
      <!-- Infix -->
      <rect x="0" y="0" width="220" height="120" fill="#3498db" stroke="#2980b9" stroke-width="2" rx="5"/>
      <text x="110" y="25" text-anchor="middle" class="text" fill="white" font-weight="bold">Infix Notation</text>
      <text x="110" y="45" text-anchor="middle" class="small-text" fill="white">Operator between operands</text>
      <text x="110" y="65" text-anchor="middle" class="text" fill="white">A + B</text>
      <text x="110" y="85" text-anchor="middle" class="small-text" fill="white">Human-readable</text>
      <text x="110" y="105" text-anchor="middle" class="small-text" fill="white">Requires precedence rules</text>

      <!-- Prefix -->
      <rect x="250" y="0" width="220" height="120" fill="#27ae60" stroke="#229954" stroke-width="2" rx="5"/>
      <text x="360" y="25" text-anchor="middle" class="text" fill="white" font-weight="bold">Prefix Notation</text>
      <text x="360" y="45" text-anchor="middle" class="small-text" fill="white">Operator before operands</text>
      <text x="360" y="65" text-anchor="middle" class="text" fill="white">+ A B</text>
      <text x="360" y="85" text-anchor="middle" class="small-text" fill="white">Polish Notation</text>
      <text x="360" y="105" text-anchor="middle" class="small-text" fill="white">No parentheses needed</text>

      <!-- Postfix -->
      <rect x="500" y="0" width="220" height="120" fill="#e74c3c" stroke="#c0392b" stroke-width="2" rx="5"/>
      <text x="610" y="25" text-anchor="middle" class="text" fill="white" font-weight="bold">Postfix Notation</text>
      <text x="610" y="45" text-anchor="middle" class="small-text" fill="white">Operator after operands</text>
      <text x="610" y="65" text-anchor="middle" class="text" fill="white">A B +</text>
      <text x="610" y="85" text-anchor="middle" class="small-text" fill="white">Reverse Polish</text>
      <text x="610" y="105" text-anchor="middle" class="small-text" fill="white">Easy to evaluate</text>
    </g>

    <!-- Example Comparison -->
    <g transform="translate(0, 150)">
      <rect x="0" y="0" width="720" height="80" fill="#ecf0f1" stroke="#bdc3c7" stroke-width="2" rx="5"/>
      <text x="20" y="25" class="text" font-weight="bold">Example Expression: (A + B) * (C - D)</text>
      <text x="30" y="45" class="text">Infix: (A + B) * (C - D)</text>
      <text x="30" y="60" class="text">Prefix: * + A B - C D</text>
      <text x="30" y="75" class="text">Postfix: A B + C D - *</text>
    </g>
  </g>

  <!-- Infix to Postfix Conversion -->
  <g transform="translate(50, 320)">
    <text x="0" y="0" class="subtitle">2. Infix to Postfix Conversion</text>

    <g transform="translate(0, 40)">
      <text x="0" y="0" class="text" font-weight="bold">Algorithm Steps:</text>
      <rect x="0" y="20" width="700" height="120" fill="#ecf0f1" stroke="#bdc3c7" stroke-width="2" rx="5"/>
      <text x="20" y="45" class="text">1. Scan expression from left to right</text>
      <text x="20" y="65" class="text">2. If operand → add to output</text>
      <text x="20" y="85" class="text">3. If operator → pop stack based on precedence, then push</text>
      <text x="20" y="105" class="text">4. If '(' → push to stack</text>
      <text x="20" y="125" class="text">5. If ')' → pop until '(' and add to output</text>
    </g>

    <!-- Step-by-step example -->
    <g transform="translate(0, 180)">
      <text x="0" y="0" class="text" font-weight="bold">Example: Convert "A + B * C" to Postfix</text>

      <!-- Step 1 -->
      <g transform="translate(0, 30)">
        <text x="0" y="0" class="small-text">Step 1: Read 'A' (operand)</text>
        <text x="0" y="20" class="small-text">Output: A</text>
        <text x="0" y="40" class="small-text">Stack: [empty]</text>

        <!-- Visual stack -->
        <rect x="200" y="10" width="40" height="25" fill="#ecf0f1" stroke="#bdc3c7" stroke-width="1"/>
        <text x="220" y="27" text-anchor="middle" class="small-text">Stack</text>

        <!-- Output -->
        <rect x="260" y="10" width="30" height="25" fill="#27ae60" stroke="#229954" stroke-width="2"/>
        <text x="275" y="27" text-anchor="middle" class="small-text" fill="white">A</text>
        <text x="310" y="27" class="small-text">Output</text>
      </g>

      <!-- Step 2 -->
      <g transform="translate(0, 80)">
        <text x="0" y="0" class="small-text">Step 2: Read '+' (operator)</text>
        <text x="0" y="20" class="small-text">Output: A</text>
        <text x="0" y="40" class="small-text">Stack: [+]</text>

        <!-- Visual stack -->
        <rect x="200" y="10" width="40" height="25" fill="#3498db" stroke="#2980b9" stroke-width="2"/>
        <text x="220" y="27" text-anchor="middle" class="small-text" fill="white">+</text>

        <!-- Output -->
        <rect x="260" y="10" width="30" height="25" fill="#27ae60" stroke="#229954" stroke-width="2"/>
        <text x="275" y="27" text-anchor="middle" class="small-text" fill="white">A</text>
      </g>

      <!-- Step 3 -->
      <g transform="translate(0, 130)">
        <text x="0" y="0" class="small-text">Step 3: Read 'B' (operand)</text>
        <text x="0" y="20" class="small-text">Output: A B</text>
        <text x="0" y="40" class="small-text">Stack: [+]</text>

        <!-- Visual stack -->
        <rect x="200" y="10" width="40" height="25" fill="#3498db" stroke="#2980b9" stroke-width="2"/>
        <text x="220" y="27" text-anchor="middle" class="small-text" fill="white">+</text>

        <!-- Output -->
        <rect x="260" y="10" width="30" height="25" fill="#27ae60" stroke="#229954" stroke-width="2"/>
        <text x="275" y="27" text-anchor="middle" class="small-text" fill="white">A</text>
        <rect x="290" y="10" width="30" height="25" fill="#27ae60" stroke="#229954" stroke-width="2"/>
        <text x="305" y="27" text-anchor="middle" class="small-text" fill="white">B</text>
      </g>

      <!-- Step 4 -->
      <g transform="translate(0, 180)">
        <text x="0" y="0" class="small-text">Step 4: Read '*' (higher precedence)</text>
        <text x="0" y="20" class="small-text">Output: A B</text>
        <text x="0" y="40" class="small-text">Stack: [+, *]</text>

        <!-- Visual stack -->
        <rect x="200" y="10" width="40" height="25" fill="#3498db" stroke="#2980b9" stroke-width="2"/>
        <text x="220" y="27" text-anchor="middle" class="small-text" fill="white">+</text>
        <rect x="200" y="-15" width="40" height="25" fill="#e74c3c" stroke="#c0392b" stroke-width="2"/>
        <text x="220" y="2" text-anchor="middle" class="small-text" fill="white">*</text>

        <!-- Output -->
        <rect x="260" y="10" width="30" height="25" fill="#27ae60" stroke="#229954" stroke-width="2"/>
        <text x="275" y="27" text-anchor="middle" class="small-text" fill="white">A</text>
        <rect x="290" y="10" width="30" height="25" fill="#27ae60" stroke="#229954" stroke-width="2"/>
        <text x="305" y="27" text-anchor="middle" class="small-text" fill="white">B</text>
      </g>

      <!-- Step 5 -->
      <g transform="translate(0, 230)">
        <text x="0" y="0" class="small-text">Step 5: Read 'C' (operand)</text>
        <text x="0" y="20" class="small-text">Output: A B C</text>
        <text x="0" y="40" class="small-text">Stack: [+, *]</text>

        <!-- Visual stack -->
        <rect x="200" y="10" width="40" height="25" fill="#3498db" stroke="#2980b9" stroke-width="2"/>
        <text x="220" y="27" text-anchor="middle" class="small-text" fill="white">+</text>
        <rect x="200" y="-15" width="40" height="25" fill="#e74c3c" stroke="#c0392b" stroke-width="2"/>
        <text x="220" y="2" text-anchor="middle" class="small-text" fill="white">*</text>

        <!-- Output -->
        <rect x="260" y="10" width="30" height="25" fill="#27ae60" stroke="#229954" stroke-width="2"/>
        <text x="275" y="27" text-anchor="middle" class="small-text" fill="white">A</text>
        <rect x="290" y="10" width="30" height="25" fill="#27ae60" stroke="#229954" stroke-width="2"/>
        <text x="305" y="27" text-anchor="middle" class="small-text" fill="white">B</text>
        <rect x="320" y="10" width="30" height="25" fill="#27ae60" stroke="#229954" stroke-width="2"/>
        <text x="335" y="27" text-anchor="middle" class="small-text" fill="white">C</text>
      </g>

      <!-- Step 6 -->
      <g transform="translate(0, 280)">
        <text x="0" y="0" class="small-text">Step 6: End - Pop all operators</text>
        <text x="0" y="20" class="small-text">Output: A B C * +</text>
        <text x="0" y="40" class="small-text">Stack: [empty]</text>

        <!-- Output -->
        <rect x="260" y="10" width="30" height="25" fill="#27ae60" stroke="#229954" stroke-width="2"/>
        <text x="275" y="27" text-anchor="middle" class="small-text" fill="white">A</text>
        <rect x="290" y="10" width="30" height="25" fill="#27ae60" stroke="#229954" stroke-width="2"/>
        <text x="305" y="27" text-anchor="middle" class="small-text" fill="white">B</text>
        <rect x="320" y="10" width="30" height="25" fill="#27ae60" stroke="#229954" stroke-width="2"/>
        <text x="335" y="27" text-anchor="middle" class="small-text" fill="white">C</text>
        <rect x="350" y="10" width="30" height="25" fill="#e74c3c" stroke="#c0392b" stroke-width="2"/>
        <text x="365" y="27" text-anchor="middle" class="small-text" fill="white">*</text>
        <rect x="380" y="10" width="30" height="25" fill="#3498db" stroke="#2980b9" stroke-width="2"/>
        <text x="395" y="27" text-anchor="middle" class="small-text" fill="white">+</text>

        <text x="430" y="27" class="small-text" fill="#27ae60" font-weight="bold">Final Result!</text>
      </g>
    </g>
  </g>

  <!-- Postfix Evaluation -->
  <g transform="translate(800, 320)">
    <text x="0" y="0" class="subtitle">3. Postfix Expression Evaluation</text>

    <g transform="translate(0, 40)">
      <text x="0" y="0" class="text" font-weight="bold">Algorithm:</text>
      <rect x="0" y="20" width="500" height="80" fill="#ecf0f1" stroke="#bdc3c7" stroke-width="2" rx="5"/>
      <text x="20" y="45" class="text">1. Scan expression from left to right</text>
      <text x="20" y="65" class="text">2. If operand → push to stack</text>
      <text x="20" y="85" class="text">3. If operator → pop two operands, compute, push result</text>
    </g>

    <!-- Evaluation Example -->
    <g transform="translate(0, 130)">
      <text x="0" y="0" class="text" font-weight="bold">Example: Evaluate "2 3 + 4 *"</text>

      <!-- Step 1 -->
      <g transform="translate(0, 30)">
        <text x="0" y="0" class="small-text">Step 1: Read '2' → Push</text>
        <rect x="150" y="-10" width="30" height="25" fill="#3498db" stroke="#2980b9" stroke-width="2"/>
        <text x="165" y="7" text-anchor="middle" class="small-text" fill="white">2</text>
        <text x="190" y="7" class="small-text">Stack</text>
      </g>

      <!-- Step 2 -->
      <g transform="translate(0, 60)">
        <text x="0" y="0" class="small-text">Step 2: Read '3' → Push</text>
        <rect x="150" y="-10" width="30" height="25" fill="#3498db" stroke="#2980b9" stroke-width="2"/>
        <text x="165" y="7" text-anchor="middle" class="small-text" fill="white">2</text>
        <rect x="150" y="-35" width="30" height="25" fill="#3498db" stroke="#2980b9" stroke-width="2"/>
        <text x="165" y="-18" text-anchor="middle" class="small-text" fill="white">3</text>
      </g>

      <!-- Step 3 -->
      <g transform="translate(0, 90)">
        <text x="0" y="0" class="small-text">Step 3: Read '+' → Pop 3,2 → 2+3=5 → Push</text>
        <rect x="150" y="-10" width="30" height="25" fill="#27ae60" stroke="#229954" stroke-width="2"/>
        <text x="165" y="7" text-anchor="middle" class="small-text" fill="white">5</text>
      </g>

      <!-- Step 4 -->
      <g transform="translate(0, 120)">
        <text x="0" y="0" class="small-text">Step 4: Read '4' → Push</text>
        <rect x="150" y="-10" width="30" height="25" fill="#27ae60" stroke="#229954" stroke-width="2"/>
        <text x="165" y="7" text-anchor="middle" class="small-text" fill="white">5</text>
        <rect x="150" y="-35" width="30" height="25" fill="#3498db" stroke="#2980b9" stroke-width="2"/>
        <text x="165" y="-18" text-anchor="middle" class="small-text" fill="white">4</text>
      </g>

      <!-- Step 5 -->
      <g transform="translate(0, 150)">
        <text x="0" y="0" class="small-text">Step 5: Read '*' → Pop 4,5 → 5*4=20 → Push</text>
        <rect x="150" y="-10" width="30" height="25" fill="#e74c3c" stroke="#c0392b" stroke-width="3"/>
        <text x="165" y="7" text-anchor="middle" class="small-text" fill="white">20</text>
        <text x="190" y="7" class="small-text" fill="#e74c3c" font-weight="bold">Result: 20</text>
      </g>
    </g>
  </g>

  <!-- Operator Precedence -->
  <g transform="translate(50, 750)">
    <text x="0" y="0" class="subtitle">4. Operator Precedence &amp; Associativity</text>

    <rect x="0" y="20" width="800" height="160" fill="#ecf0f1" stroke="#bdc3c7" stroke-width="2" rx="5"/>

    <!-- Table Headers -->
    <text x="20" y="45" class="text" font-weight="bold">Operator</text>
    <text x="120" y="45" class="text" font-weight="bold">Precedence</text>
    <text x="220" y="45" class="text" font-weight="bold">Associativity</text>
    <text x="350" y="45" class="text" font-weight="bold">Example</text>

    <!-- Table Data -->
    <text x="20" y="70" class="text">( )</text>
    <text x="120" y="70" class="text" fill="#e74c3c">Highest (4)</text>
    <text x="220" y="70" class="text">Left to Right</text>
    <text x="350" y="70" class="text">(A + B)</text>

    <text x="20" y="95" class="text">*, /, %</text>
    <text x="120" y="95" class="text" fill="#f39c12">High (3)</text>
    <text x="220" y="95" class="text">Left to Right</text>
    <text x="350" y="95" class="text">A * B / C</text>

    <text x="20" y="120" class="text">+, -</text>
    <text x="120" y="120" class="text" fill="#27ae60">Medium (2)</text>
    <text x="220" y="120" class="text">Left to Right</text>
    <text x="350" y="120" class="text">A + B - C</text>

    <text x="20" y="145" class="text">=</text>
    <text x="120" y="145" class="text" fill="#3498db">Low (1)</text>
    <text x="220" y="145" class="text">Right to Left</text>
    <text x="350" y="145" class="text">A = B = C</text>

    <text x="20" y="170" class="text">&lt;, &gt;, ==</text>
    <text x="120" y="170" class="text" fill="#9b59b6">Lowest (0)</text>
    <text x="220" y="170" class="text">Left to Right</text>
    <text x="350" y="170" class="text">A &lt; B > C</text>
  </g>

  <!-- Implementation -->
  <g transform="translate(900, 750)">
    <text x="0" y="0" class="subtitle">Python Implementation</text>

    <rect x="0" y="30" width="700" height="400" fill="#2c3e50" stroke="#34495e" stroke-width="2" rx="5"/>

    <text x="20" y="55" class="code" fill="#f39c12"># Infix to Postfix Conversion</text>
    <text x="20" y="75" class="code" fill="#3498db">def infix_to_postfix(expression):</text>
    <text x="40" y="95" class="code" fill="#ecf0f1">precedence = {'+': 1, '-': 1, '*': 2, '/': 2}</text>
    <text x="40" y="115" class="code" fill="#ecf0f1">stack = []</text>
    <text x="40" y="135" class="code" fill="#ecf0f1">result = []</text>

    <text x="40" y="165" class="code" fill="#ecf0f1">for char in expression:</text>
    <text x="60" y="185" class="code" fill="#ecf0f1">if char.isalnum():</text>
    <text x="80" y="205" class="code" fill="#27ae60">result.append(char)</text>
    <text x="60" y="225" class="code" fill="#ecf0f1">elif char == '(':</text>
    <text x="80" y="245" class="code" fill="#ecf0f1">stack.append(char)</text>
    <text x="60" y="265" class="code" fill="#ecf0f1">elif char == ')':</text>
    <text x="80" y="285" class="code" fill="#ecf0f1">while stack and stack[-1] != '(':</text>
    <text x="100" y="305" class="code" fill="#ecf0f1">result.append(stack.pop())</text>
    <text x="80" y="325" class="code" fill="#ecf0f1">stack.pop()  # Remove '('</text>
    <text x="60" y="345" class="code" fill="#ecf0f1">else:  # Operator</text>
    <text x="80" y="365" class="code" fill="#ecf0f1">while (stack and stack[-1] != '(' and</text>
    <text x="100" y="385" class="code" fill="#ecf0f1">precedence.get(stack[-1], 0) >=</text>
    <text x="100" y="405" class="code" fill="#ecf0f1">precedence.get(char, 0)):</text>
    <text x="100" y="425" class="code" fill="#ecf0f1">result.append(stack.pop())</text>
  </g>

  <!-- Applications -->
  <g transform="translate(50, 1200)">
    <text x="0" y="0" class="subtitle">Applications of Expression Evaluation</text>

    <rect x="0" y="20" width="1500" height="120" fill="#ecf0f1" stroke="#bdc3c7" stroke-width="2" rx="5"/>

    <!-- Application 1 -->
    <g transform="translate(50, 50)">
      <rect x="0" y="0" width="200" height="60" fill="#3498db" stroke="#2980b9" stroke-width="1" rx="3"/>
      <text x="100" y="20" text-anchor="middle" class="text" fill="white" font-weight="bold">Compilers</text>
      <text x="100" y="35" text-anchor="middle" class="small-text" fill="white">Expression parsing and</text>
      <text x="100" y="50" text-anchor="middle" class="small-text" fill="white">code generation</text>
    </g>

    <!-- Application 2 -->
    <g transform="translate(300, 50)">
      <rect x="0" y="0" width="200" height="60" fill="#27ae60" stroke="#229954" stroke-width="1" rx="3"/>
      <text x="100" y="20" text-anchor="middle" class="text" fill="white" font-weight="bold">Calculators</text>
      <text x="100" y="35" text-anchor="middle" class="small-text" fill="white">Scientific calculators</text>
      <text x="100" y="50" text-anchor="middle" class="small-text" fill="white">and math software</text>
    </g>

    <!-- Application 3 -->
    <g transform="translate(550, 50)">
      <rect x="0" y="0" width="200" height="60" fill="#e74c3c" stroke="#c0392b" stroke-width="1" rx="3"/>
      <text x="100" y="20" text-anchor="middle" class="text" fill="white" font-weight="bold">Spreadsheets</text>
      <text x="100" y="35" text-anchor="middle" class="small-text" fill="white">Excel formula</text>
      <text x="100" y="50" text-anchor="middle" class="small-text" fill="white">evaluation</text>
    </g>

    <!-- Application 4 -->
    <g transform="translate(800, 50)">
      <rect x="0" y="0" width="200" height="60" fill="#f39c12" stroke="#e67e22" stroke-width="1" rx="3"/>
      <text x="100" y="20" text-anchor="middle" class="text" fill="white" font-weight="bold">Query Processors</text>
      <text x="100" y="35" text-anchor="middle" class="small-text" fill="white">SQL WHERE clause</text>
      <text x="100" y="50" text-anchor="middle" class="small-text" fill="white">evaluation</text>
    </g>

    <!-- Application 5 -->
    <g transform="translate(1050, 50)">
      <rect x="0" y="0" width="200" height="60" fill="#9b59b6" stroke="#8e44ad" stroke-width="1" rx="3"/>
      <text x="100" y="20" text-anchor="middle" class="text" fill="white" font-weight="bold">Interpreters</text>
      <text x="100" y="35" text-anchor="middle" class="small-text" fill="white">Dynamic language</text>
      <text x="100" y="50" text-anchor="middle" class="small-text" fill="white">expression evaluation</text>
    </g>
  </g>

</svg>