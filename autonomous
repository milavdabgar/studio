#!/bin/bash

# Simple autonomous development command
# Usage: ./autonomous [start|stop|status|dashboard]

case "$1" in
    start)
        echo "ðŸ¤– Starting autonomous development..."
        ./scripts/start-autonomous.sh --daemon-only
        ;;
    stop)
        echo "ðŸ›‘ Stopping autonomous development..."
        pkill -f autonomous-daemon.js
        echo "âœ… Stopped"
        ;;
    status)
        if pgrep -f autonomous-daemon.js > /dev/null; then
            echo "ðŸŸ¢ Autonomous development is running"
            echo "ðŸ“Š Dashboard: ./autonomous dashboard"
            echo "ðŸ›‘ Stop: ./autonomous stop"
        else
            echo "ðŸ”´ Autonomous development is not running"
            echo "ðŸš€ Start: ./autonomous start"
        fi
        ;;
    dashboard)
        echo "ðŸ“Š Opening autonomous development dashboard..."
        ./scripts/autonomous-dashboard.js
        ;;
    logs)
        echo "ðŸ“„ Showing autonomous development logs..."
        tail -f .autonomous/logs/daemon.log
        ;;
    clean)
        echo "ðŸ§¹ Cleaning autonomous files..."
        rm -rf .autonomous/task-queue.json .autonomous/current-prompt.md
        echo "âœ… Cleaned"
        ;;
    test)
        echo "ðŸ§ª Testing autonomous system..."
        ./scripts/test-autonomous.js
        ;;
    help|*)
        echo "ðŸ¤– Autonomous Development System"
        echo ""
        echo "Usage: ./autonomous [command]"
        echo ""
        echo "Commands:"
        echo "  start      Start autonomous development daemon"
        echo "  stop       Stop autonomous development daemon"
        echo "  status     Check if daemon is running"
        echo "  dashboard  Open monitoring dashboard"
        echo "  logs       Show daemon logs"
        echo "  clean      Clean up autonomous files"
        echo "  test       Test the autonomous system"
        echo "  help       Show this help"
        echo ""
        echo "The autonomous system will:"
        echo "  â€¢ Analyze codebase every hour"
        echo "  â€¢ Hunt bugs every 30 minutes"
        echo "  â€¢ Fix issues automatically"
        echo "  â€¢ Create PRs with improvements"
        echo "  â€¢ Work 24/7 without human intervention"
        ;;
esac